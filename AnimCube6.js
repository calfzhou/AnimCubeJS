"use strict";function AnimCube6(e){var t,r,n,o,a,l,f,i,u,c,s,h,v,d,g,m,b,M,p,k,L,y,R,w,F,D,T,A,B,S,x,U,E,I,P,C,X,W,Y,z,q,O,Q,Z,N,H,G,K,j=[],J=[],V=[],$=[],_=[],ee=[],te=[[0,-1,0],[0,1,0],[0,0,-1],[0,0,1],[-1,0,0],[1,0,0]],re=[[-1,-1,-1],[1,-1,-1],[1,-1,1],[-1,-1,1],[-1,1,-1],[1,1,-1],[1,1,1],[-1,1,1]],ne=[[0,1,2,3],[4,7,6,5],[0,4,5,1],[2,6,7,3],[0,3,7,4],[1,5,6,2]],oe=[[0,3,2,1],[0,3,2,1],[3,2,1,0],[3,2,1,0],[0,3,2,1],[0,3,2,1]],ae=[[2,5,3,4],[4,3,5,2],[4,1,5,0],[5,1,4,0],[0,3,1,2],[2,1,3,0]],le=[1,1,-1,-1,-1,-1],fe=[0,0,-1],ie=[1,0,0],ue=[],ce=[],se=[],he=[],ve=!0,de=[],ge=[],me=[],be=[],Me=[],pe=!0,ke=-1,Le=6,ye=12,Re=!0,we=!1,Fe=!1,De=!1,Te=0,Ae=0,Be=0,Se=0,xe=[3,2,0,5,1,4],Ue=[[30,24,18,12,6,0,31,25,19,13,7,1,32,26,20,14,8,2,33,27,21,15,9,3,34,28,22,16,10,4,35,29,23,17,11,5],[5,11,17,23,29,35,4,10,16,22,28,34,3,9,15,21,27,33,2,8,14,20,26,32,1,7,13,19,25,31,0,6,12,18,24,30],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35],[30,24,18,12,6,0,31,25,19,13,7,1,32,26,20,14,8,2,33,27,21,15,9,3,34,28,22,16,10,4,35,29,23,17,11,5],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35]];function Ee(){var e=Pe("config");null!=e?function(e){var t=new XMLHttpRequest;function r(){4==t.readyState&&(200==t.status?function(e){for(var t=e.split("\n"),r=0;r<t.length;r++){var n=t[r].split("=");void 0!==n[1]&&(j[n[0]]=n[1].trim())}}(t.responseText):console.log("Error loading config file: "+e),Ie())}t.onreadystatechange=r,t.open("GET",e,!0),t.send()}(e):Ie()}function Ie(){J[0]=Gr(255,128,64),J[1]=Gr(255,0,0),J[2]=Gr(0,255,0),J[3]=Gr(0,0,255),J[4]=Gr(153,153,153),J[5]=Gr(170,170,68),J[6]=Gr(187,119,68),J[7]=Gr(153,68,68),J[8]=Gr(68,119,68),J[9]=Gr(0,68,119),J[10]=Gr(255,255,255),J[11]=Gr(255,255,0),J[12]=Gr(255,96,32),J[13]=Gr(208,0,0),J[14]=Gr(0,144,0),J[15]=Gr(32,64,208),J[16]=Gr(176,176,176),J[17]=Gr(80,80,80),J[18]=Gr(255,0,255),J[19]=Gr(0,255,255),J[20]=Gr(255,160,192),J[21]=Gr(32,255,16),J[22]=Gr(0,0,0),J[23]=Gr(128,128,128);var e=Pe("bgcolor");if(t=null!=e&&6==e.length&&jr(e)?"#"+e:"gray",e=Pe("butbgcolor"),o=null!=e&&6==e.length&&jr(e)?"#"+e:t,null!=(e=Pe("colors")))for(var u=0;u<10&&u<e.length/6;u++)jr(e.substring(6*u,6*u+6))&&(J[u]="#"+e.substring(6*u,6*u+6));for(u=0;u<6;u++)for(var c=0;c<36;c++)V[u][c]=u+10;if(null!=(e=Pe("supercube"))&&"1"==e){Fe=!0,Ce(.06);for(u=0;u<36;u++)V[0][u]=22;null!=(e=Pe("scw"))&&("1"==e?Be=1:"2"==e&&(Be=2)),1==Be&&(J[10]="#000000")}if(null!=(e=Pe("gabbacolors"))&&"1"==e&&(1==Fe?(J[11]="#fdcf00",J[12]="#fd4e0a",J[13]="#93000d",J[14]="#00702d",J[15]="#00347a"):(Ce(.06),J[11]="#ffd90a",J[12]="#ff4f0b",J[13]="#9e0b19",J[14]="#0b7d39",J[15]="#0b4186")),null!=(e=Pe("borderwidth"))){for(u=0;u<e.length;u++)e.charAt(u)>="0"&&e.charAt(u)<="9"&&(Se=10*Se+parseInt(e[u]));Se>=0&&Se<=20&&Ce(Se/100)}if(Fe)for(u=0;u<6;u++)for(c=0;c<36;c++)$[u][c]=0;var s="lluu";if(null!=(e=Pe("colorscheme"))&&6==e.length)for(u=0;u<6;u++){var h=23;for(c=0;c<23;c++)if(e[u].toLowerCase()=="0123456789wyorgbldmcpnk".charAt(c)){h=c;break}for(c=0;c<36;c++)V[u][c]=h}if("1"==(e=Pe("scramble"))?Te=1:"2"==e&&(Te=2),0==Te){if(null!=(e=Pe("pos"))&&216==e.length){s="uuuuff","gray"==t&&(t="white");for(u=0;u<6;u++){var g=xe[u];for(c=0;c<36;c++){var m=Ue[u][c];V[g][m]=23;for(var b=0;b<14;b++)if(e.charAt(36*u+c)=="DFECABdfecabgh".charAt(b)){V[g][m]=b+4;break}}}}if(null!=(e=Pe("facelets"))&&216==e.length)for(u=0;u<6;u++)for(c=0;c<36;c++){V[u][c]=23;for(b=0;b<23;b++)if(e[36*u+c].toLowerCase()=="0123456789wyorgbldmcpnk".charAt(b)){V[u][c]=b;break}}if(null!=(e=Pe("superfacelets"))&&216==e.length)for(u=0;u<6;u++)for(c=0;c<36;c++)for(b=0;b<4;b++)if(e[36*u+c].toLowerCase()=="0123".charAt(b)){$[u][c]=b;break}}if(N=0,K=!1,G=!1,null!=(e=Pe("sign"))&&"1"==e&&(G=!0,N=5,K=!0),null!=(e=Pe("yz"))&&("0"==e?K=!1:"1"==e&&(K=!0)),null!=(e=Pe("randmoves"))){var L=0;for(u=0;u<e.length;u++)e.charAt(u)>="0"&&e.charAt(u)<="9"&&(L=10*L+parseInt(e[u]));L>0&&(Ae=L)}("random"==(e=Pe("move"))||Te>0)&&(e=Wn(6,Ae)),de=null==e||0==e.length?[]:Ye(e,!0),C=0,q=-1,0==Te&&(null!=(e=Pe("initmove"))&&("random"==e&&(e=Wn(6,Ae)),me="#"==e?de:Ye(e,!1)),null!=(e=Pe("initrevmove"))&&("random"==e&&(e=Wn(6,Ae)),be="#"==e?de:Ye(e,!1)),null!=(e=Pe("demo"))&&("random"==e&&(e=Wn(6,Ae)),(ge="#"==e?de:Ye(e,!0)).length>0&&ge[0].length>0&&(F=!0))),e=Pe("position"),Wr(Qr(ue,fe,ie)),null==e&&(e=s);var y=Math.PI/12;for(u=0;u<e.length;u++){var R=y;switch(e[u].toLowerCase()){case"d":R=-R;case"u":Nr(fe,R),Nr(ie,R);break;case"f":R=-R;case"b":Hr(fe,R),Hr(ie,R);break;case"l":R=-R;case"r":Zr(fe,R),Zr(ie,R)}}if(Wr(Qr(ue,fe,ie)),v=0,d=0,null!=(e=Pe("speed")))for(u=0;u<e.length;u++)e.charAt(u)>="0"&&e.charAt(u)<="9"&&(v=10*v+parseInt(e[u]));if(null!=(e=Pe("doublespeed")))for(u=0;u<e.length;u++)e.charAt(u)>="0"&&e.charAt(u)<="9"&&(d=10*d+parseInt(e[u]));if(0==v&&(v=10),0==d&&(d=3*v/2),D=0,null==(e=Pe("perspective")))D=2;else for(u=0;u<e.length;u++)e.charAt(u)>="0"&&e.charAt(u)<="9"&&(D=10*D+parseInt(e[u]));var w,P=0;if(null!=(e=Pe("scale")))for(u=0;u<e.length;u++)e.charAt(u)>="0"&&e.charAt(u)<="9"&&(P=10*P+parseInt(e[u]));if(T=1/(1+P/10),B=!1,null!=(e=Pe("hint"))){B=!0,S=0;for(u=0;u<e.length;u++)e.charAt(u)>="0"&&e.charAt(u)<="9"&&(S=10*S+parseInt(e[u]));S<1?B=!1:S/=10}(x=3.7,null!=(e=Pe("hinthoriz")))&&((w=parseFloat(e))>0&&(x=w));(U=3.7,null!=(e=Pe("hintvert")))&&((w=parseFloat(e))>0&&(U=w));(E=0,null!=(e=Pe("hintborder"))&&"1"==e&&(E=1),Q=13,null!=(e=Pe("buttonheight")))&&((w=parseInt(e))>=9&w<=25&&(Q=w));(Le=0==de.length?0:6,O=1,"0"==(e=Pe("buttonbar"))?(O=0,Q=0,Le=0):"1"==e?O=1:"2"!=e&&0!=de.length||(O=2,Le=0),e=Pe("edit"),M="0"!=e,e=Pe("repeat"),p="0"!=e,e=Pe("clickprogress"),k="0"!=e,"1"==(e=Pe("movetext"))?N=1:"5"==e&&(N=5),H=1,"0"==(e=Pe("movetextspace"))&&(H=0),null!=(e=Pe("textsize")))&&((w=parseInt(e))>=5&w<=40&&(ye=w));(e=Pe("fonttype"),Re=null==e||"1"==e,z=0,null!=(e=Pe("metric"))&&("1"==e?z=1:"2"==e?z=2:"3"==e&&(z=3)),A=1,null!=(e=Pe("align")))&&((w=parseInt(e))>=0&w<=3&&(A=w),w>=3&w<=99&&(A=w/100));null!=(e=Pe("snap"))&&"1"==e&&(we=!0);for(u=0;u<6;u++)for(c=0;c<36;c++)_[u][c]=V[u][c],ee[u][c]=$[u][c];me.length>0&&et(V,me[0],0,me[0].length,!1),be.length>0&&et(V,be[0],0,be[0].length,!0),2==Te&&et(V,de[0],0,de[0].length,!0);for(u=0;u<3;u++)ce[u]=fe[u],se[u]=ie[u],he[u]=ue[u];cn(t)<128?(n="white",r=function(e){"#"!=e.substring(0,1)&&(e=un(e));var t=parseInt(e.substring(1,3),16),r=parseInt(e.substring(3,5),16),n=parseInt(e.substring(5,7),16);return t=Math.floor(1.3*t),r=Math.floor(1.3*r),n=Math.floor(1.3*n),Gr(t>255?255:t,r>255?255:r,n>255?255:n)}(t)):(n="black",r=sn(t)),f=cn(o)<128?"white":"black",a=n,null!=(e=Pe("slidercolor"))&&6==e.length&&jr(e)&&(a="#"+e),l=sn(t),null!=(e=Pe("sliderbgcolor"))&&6==e.length&&jr(e)&&(l="#"+e),null!=(e=Pe("troughcolor"))&&6==e.length&&jr(e)&&(l="#"+e),i="black",null!=(e=Pe("cubecolor"))&&6==e.length&&jr(e)&&(i="#"+e),I=1,"0"==(e=Pe("counter"))&&(I=0),q=de.length>0&&de[0][0]>=1e3?0:-1,Rn=yn.getContext("2d"),Tn=Q,An=Le,Bn=ye,Xn(),Sn.appendChild(yn),kr(),F&&nt(-1)}function Pe(e){var t=Yn[e];return void 0===t?j[e]:t}function Ce(e){Ar[0][0]=Ar[0][1]=Ar[1][1]=Ar[3][0]=e,Ar[1][0]=Ar[2][0]=Ar[2][1]=Ar[3][1]=1-e}var Xe=[0,0,0,0,0,0,1,1,1,3,3,3,3,3,3,2,2,2,2,2,2],We=[0,1,2,3,4,5,1,2,4,5,2,0,5,2,0,0,1,2,3,4,5];function Ye(e,t){if(t){for(var r=e.indexOf("{");-1!=r;)r=e.indexOf("{",r+1);if(null==Me)q=0,Me=[];else{for(var n=[],o=0;o<Me.length;o++)n[o]=Me[o];q=Me.length,Me=n}}var a=1;for(r=e.indexOf(";");-1!=r;)a++,r=e.indexOf(";",r+1);var l=[],f=0;for(r=e.indexOf(";"),a=0;-1!=r;)l[a]=qe(e.substring(f,r),t,a++),f=r+1,r=e.indexOf(";",f);return l[a]=qe(e.substring(f),t,a),l}var ze=["n","t","c","s","a","m"];function qe(e,t,r){if(G&&(e=function(e){return e=Qe(e,2,"n"),e=Qe(e,3,"m")}(e)),"#"==e.trim()&&void 0!==de[r])return de[r];var n=0,o=[],a="UDFBLRESMXYZxyzudfblr";1==K&&(a="UDFBLRESMXZYxzyudfblr");for(var l=0;l<e.length;l++)if("."==e.charAt(l))o[n]=-1,n++;else if("{"==e.charAt(l)){l++;for(var f="";l<e.length&&"}"!=e.charAt(l);)t&&(f+=e.charAt(l)),l++;t&&(Me[q]=f,o[n]=1e3+q,q++,n++)}else for(var i=0;i<21;i++)if(e.charAt(l)==a.charAt(i)){var u=e.charAt(l);if("E"==u||"S"==u||"M"==u)continue;l++;var c=Xe[i];if(o[n]=28*We[i],l<e.length&&0==Xe[i])for(var s=0;s<ze.length;s++)if(e.charAt(l)==ze[s]){c=s+1,l++;break}o[n]+=4*c,l<e.length&&("1"==e.charAt(l)?l++:"'"==e.charAt(l)||"3"==e.charAt(l)?(o[n]+=2,l++):"2"==e.charAt(l)&&(++l<e.length&&"'"==e.charAt(l)?(o[n]+=3,l++):o[n]+=1)),n++,l--;break}return o}var Oe=["U","D","F","B","L","R"];function Qe(e,t,r){for(var n=0;n<6;n++){var o=new RegExp(t+Oe[n],"g");e=e.replace(o,Oe[n]+r)}return e}function Ze(e,t,r){if(t>=e.length)return"";for(var n="",o=t;o<r;o++){var a=Ge(e,o);""!=a&&(n+=a+(H?" ":""))}return n}var Ne=[[["U","D","F","B","L","R"],["Un","Dn","Fn","Bn","Ln","Rn"],["Ut","Dt","Ft","Bt","Lt","Rt"],["Uc","Dc","Fc","Bc","Lc","Rc"],["Us","Ds","Fs","Bs","Ls","Rs"],["Ua","Da","Fa","Ba","La","Ra"],["Um","Dm","Fm","Bm","Lm","Rm"]],[["U","D","F","B","L","R"],["Un","Dn","Fn","Bn","Ln","Rn"],["u","d","f","b","l","r"],["Z","~Z","Y","~Y","~X","X"],["Us","Ds","Fs","Bs","Ls","Rs"],["Ua","Da","Fa","Ba","La","Ra"],["~E","E","S","~S","M","~M"]],[["U","D","F","B","L","R"],["Un","Dn","Fn","Bn","Ln","Rn"],["u","d","f","b","l","r"],["Y","~Y","Z","~Z","~X","X"],["Us","Ds","Fs","Bs","Ls","Rs"],["Ua","Da","Fa","Ba","La","Ra"],["~E","E","S","~S","M","~M"]],[["U","D","F","B","L","R"],["Un","Dn","Fn","Bn","Ln","Rn"],["Uu","Dd","Ff","Bb","Ll","Rr"],["QU","QD","QF","QB","QL","QR"],["UD'","DU'","FB'","BF'","LR'","RL'"],["UD","DU","FB","BF","LR","RL"],["u","d","f","b","l","r"]],[["U","D","F","B","L","R"],["2U","2D","2F","2B","2L","2R"],["u","d","f","b","l","r"],["y","~y","z","~z","~x","x"],["Us","Ds","Fs","Bs","Ls","Rs"],["Ua","Da","Fa","Ba","La","Ra"],["3U","3D","3F","3B","3L","3R"]]],He=["","2","'","2'"];function Ge(e,t){if(t>=e.length)return"";if(e[t]>=1e3)return"";if(-1==e[t])return".";var r=Ne[N-1][Math.floor(e[t]/4)%7][Math.floor(e[t]/28)];return"~"==r.charAt(0)?r.substring(1)+He[(e[t]+2)%4]:r+He[e[t]%4]}var Ke=["","q","h","s"];function je(e){for(var t=0,r=0;r<e.length;r++)e[r]<1e3&&t++;return t}function Je(e,t){for(var r=0,n=0;;){for(;r<e.length&&e[r]>=1e3;)r++;if(n==t)break;r<e.length&&(n++,r++)}return r}function Ve(e,t){for(var r=0,n=0;n<e.length&&(n<t||t<0);n++)r+=$e(e[n]);return r}function $e(e){if(e<0||e>=1e3)return 0;var t=e%4,r=Math.floor(e/4)%7,n=1;switch(z){case 1:1!=t&&3!=t||(n*=2);case 2:(1==r||r>3)&&(n*=2);case 3:3==r&&(n=0),3!=z||4!=r&&5!=r||(n*=2)}return n}function _e(e){q=e.length>0&&e[0]>=1e3?e[0]-1e3:-1}function et(e,t,r,n,o){for(var a=o?r+n:r;;){if(o){if(a<=r)break;a--}if(t[a]>=1e3)q=o?-1:t[a]-1e3;else if(t[a]>=0){var l=t[a]%4+1,f=Math.floor(t[a]/4)%7;4==l&&(l=2),o&&(l=4-l),yt(e,Math.floor(t[a]/28),l,f)}if(!o&&++a>=r+n)break}}var tt=0,rt=0;function nt(e){if(ot(),(F||0!=de.length&&0!=de[P].length)&&(!F||0!=ge.length&&0!=ge[0].length)){switch(X=1,W=!1,Y=!0,e){case 0:break;case 1:X=-1;break;case 2:W=!0;break;case 3:X=-1,W=!0;break;case 4:Y=!1}hn(tt++,X)}}function ot(){1==R&&(m=!0)}function at(){C=0,ve=!0,b=!1;for(var e=0;e<6;e++)for(var t=0;t<36;t++)V[e][t]=_[e][t],$[e][t]=ee[e][t];me.length>0&&void 0!==me[P]&&et(V,me[P],0,me[P].length,!1),be.length>0&&void 0!==be[P]&&et(V,be[P],0,be[P].length,!0),de.length>0&&_e(de[P]),Te>0&&(de=Ye(Wn(6,Ae),!1)),2==Te&&et(V,de[0],0,de[0].length,!0);for(e=0;e<3;e++)fe[e]=ce[e],ie[e]=se[e],ue[e]=he[e];setTimeout(kr,0)}var lt=[[[0,6],[0,6]],[[0,6],[0,6]],[[0,6],[0,6]],[[0,6],[0,6]],[[0,6],[0,6]],[[0,6],[0,6]]],ft=[],it=[],ut=[],ct=[],st=[],ht=[],vt=[[[0,0],[0,0]],[[0,6],[0,6]],[[0,6],[0,1]],[[0,1],[0,6]],[[0,6],[5,6]],[[5,6],[0,6]]],dt=[[1,0,3,3,2,3],[0,1,5,5,4,5],[2,3,1,0,3,2],[4,5,0,1,5,4],[3,2,2,4,1,0],[5,4,4,2,0,1]],gt=[[0,1,5,5,4,5],[1,0,3,3,2,3],[4,5,0,1,5,4],[2,3,1,0,3,2],[5,4,4,2,0,1],[3,2,2,4,1,0]],mt=[[[0,0],[0,0]],[[4,5],[0,6]],[[0,6],[4,5]],[[0,6],[3,4]],[[0,6],[1,2]],[[3,4],[0,6]],[[1,2],[0,6]],[[2,3],[0,6]],[[0,6],[2,3]]],bt=[[0,0,6,6,4,6],[0,0,1,1,2,1],[4,6,0,0,6,4],[2,1,0,0,1,2],[6,4,4,2,0,0],[1,2,2,4,0,0]],Mt=[[0,0,7,7,8,7],[0,0,5,5,3,5],[8,7,0,0,7,8],[3,5,0,0,5,3],[7,8,8,3,0,0],[5,3,3,8,0,0]],pt=[[0,0,5,5,3,5],[0,0,7,7,8,7],[3,5,0,0,5,3],[8,7,0,0,7,8],[5,3,3,8,0,0],[7,8,8,3,0,0]],kt=[[0,0,1,1,2,1],[0,0,6,6,4,6],[2,1,0,0,1,2],[4,6,0,0,6,4],[1,2,2,4,0,0],[6,4,4,2,0,0]];function Lt(e){for(var t=0;t<6;t++)ft[t]=vt[dt[e][t]],ht[t]=vt[gt[e][t]],it[t]=mt[bt[e][t]],ut[t]=mt[Mt[e][t]],ct[t]=mt[pt[e][t]],st[t]=mt[kt[e][t]];ve=!1}function yt(e,t,r,n){switch(n){case 2:xt(e,t,4-r,0),xt(e,t,4-r,1);break;case 3:xt(e,t,4-r,0),xt(e,t,4-r,1),xt(e,t,4-r,6),xt(e,1^t,r,6),xt(e,1^t,r,1),xt(e,1^t,r,0);break;case 4:xt(e,t,4-r,0),xt(e,1^t,r,0);break;case 5:xt(e,1^t,4-r,0),xt(e,t,4-r,0);break;default:xt(e,t,4-r,n)}}var Rt=[0,1,2,3,4,5,11,17,23,29,35,34,33,32,31,30,24,18,12,6],wt=[7,8,9,10,16,22,28,27,26,25,19,13],Ft=[14,15,21,20],Dt=[1,6,-1,-6,1,6,-1,-6],Tt=[0,5,35,30,6,4,29,31,12,3,23,32],At=[[3,3,3,0],[2,1,1,1],[3,3,0,0],[2,1,1,2],[3,2,0,0],[2,2,0,1]],Bt=[[7,7,7,4],[6,5,5,5],[7,7,4,4],[6,5,5,6],[7,6,4,4],[6,6,4,5]],St=[];function xt(e,t,r,n){Ut(e,t,r,n),1==Fe&&r>0&&r<4&&(Ut($,t,r,n),function(e,t,r){if(6==r)return 4==e&&(qt(18,1,3),1==t?qt(12,1,1):2==t?qt(12,1,2):3==t&&qt(2,6,0)),5==e&&(qt(12,1,3),1==t?qt(3,6,0):2==t?qt(18,1,2):3==t&&qt(18,1,1)),2==e&&Ot(4,4-t),void(3==e&&Ot(5,t));var n=1==r;if(0==n)for(var o=0;o<36;o++)$[e][o]=($[e][o]+4-t)%4;4==e&&(0==n&&(qt(30,1,3),1==t?qt(0,1,1):2==t?qt(0,1,2):3==t&&qt(0,6,0)),1==n&&(qt(24,1,3),1==t?qt(6,1,1):2==t?qt(6,1,2):3==t&&qt(1,6,0)));5==e&&(0==n&&(qt(0,1,3),1==t?qt(5,6,0):2==t?qt(30,1,2):3==t&&qt(30,1,1)),1==n&&(qt(6,1,3),1==t?qt(4,6,0):2==t?qt(24,1,2):3==t&&qt(24,1,1)));0==n&&(2==e&&Ot(0,4-t),3==e&&Ot(1,t));1==n&&(2==e&&Ot(2,4-t),3==e&&Ot(3,t))}(t,r,n))}function Ut(e,t,r,n){if(!n){for(var o=0;o<20;o++)St[(o+5*r)%20]=e[t][Rt[o]];for(o=0;o<20;o++)e[t][Rt[o]]=St[o];for(o=0;o<12;o++)St[(o+3*r)%12]=e[t][wt[o]];for(o=0;o<12;o++)e[t][wt[o]]=St[o];for(o=0;o<4;o++)St[(o+r)%4]=e[t][Ft[o]];for(o=0;o<4;o++)e[t][Ft[o]]=St[o]}var a=6*r;for(o=0;o<4;o++)for(var l=ae[t][o],f=n?Bt[t][o]:At[t][o],i=Dt[f],u=n>1?Tt[f+4]:Tt[f],c=0;c<6;c++,a++)St[a%24]=e[l][c*i+u];for(o=0,a=0;o<4;o++)for(l=ae[t][o],f=n?Bt[t][o]:At[t][o],i=Dt[f],u=n>1?Tt[f+4]:Tt[f],c=0;c<6;c++,a++)e[l][c*i+u]=St[a]}var Et,It,Pt,Ct,Xt,Wt,Yt,zt=[[[0,1,0],[0,6,1],[0,6,4],[0,1,5]],[[30,1,0],[5,6,1],[5,6,4],[30,1,5]],[[6,1,0],[1,6,1],[1,6,4],[6,1,5]],[[24,1,0],[4,6,1],[4,6,4],[24,1,5]],[[12,1,0],[2,6,1],[2,6,4],[12,1,5]],[[18,1,0],[3,6,1],[3,6,4],[18,1,5]]];function qt(e,t,r){for(var n=e,o=0;o<6;n+=t,o++)$[r][n]=($[r][n]+2)%4}function Ot(e,t){for(var r=0;r<4;r++)for(var n=zt[e][r],o=n[0],a=0;a<6;o+=n[1],a++)$[n[2]][o]=($[n[2]][o]+t)%4}var Qt,Zt,Nt=[],Ht=[],Gt=[],Kt=[],jt=[[[0,0],[6,0],[6,1],[0,1]],[[6,0],[6,6],[5,6],[5,0]],[[6,6],[0,6],[0,5],[6,5]],[[0,6],[0,0],[1,0],[1,6]],[[0,1],[6,1],[6,2],[0,2]],[[5,0],[5,6],[4,6],[4,0]],[[0,4],[6,4],[6,5],[0,5]],[[2,0],[2,6],[1,6],[1,0]],[[0,2],[6,2],[6,3],[0,3]],[[4,0],[4,6],[3,6],[3,0]],[[0,3],[6,3],[6,4],[0,4]],[[3,0],[3,6],[2,6],[2,0]]],Jt=[[1,0],[0,1],[-1,0],[0,-1],[1,0],[0,1],[-1,0],[0,-1],[1,0],[0,1],[-1,0],[0,-1]],Vt=[[1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1],[1,-1,1,-1,1,-1,1,-1,1,-1,1,-1],[1,-1,1,-1,1,-1,1,-1,1,-1,1,-1],[-1,1,-1,1,-1,1,-1,1,-1,1,-1,1],[1,-1,1,-1,1,-1,1,-1,1,-1,1,-1]],$t=[],_t=[],er=[[[1,0,0],[0,0,0],[0,0,1]],[[1,0,0],[0,1,0],[0,0,0]],[[0,0,0],[0,1,0],[0,0,1]]],tr=[[[0,0,1],[0,0,0],[-1,0,0]],[[0,1,0],[-1,0,0],[0,0,0]],[[0,0,0],[0,0,1],[0,-1,0]]],rr=[[[0,0,0],[0,1,0],[0,0,0]],[[0,0,0],[0,0,0],[0,0,1]],[[1,0,0],[0,0,0],[0,0,0]]],nr=[1,-1,1,-1,1,-1],or=[],ar=[],lr=[],fr=[],ir=[],ur=[],cr=[],sr=[],hr=[],vr=[],dr=[],gr=[],mr=[[1,0,0,0,0,0],[0,1,0,0,0,0],[1,1,0,0,0,0],[1,1,1,1,1,1],[1,0,0,0,0,1],[1,0,0,0,0,2],[0,0,1,0,0,0]],br=[],Mr=[[0,2,2,2,2,2],[2,1,2,2,2,2],[2,2,2,2,2,2],[2,2,2,2,2,2],[2,2,2,2,2,2],[2,2,2,2,2,2],[2,2,6,2,2,2]],pr=[[0,1,2,3,4,5],[5,4,3,2,1,0],[0,5,4,3,1,2]];function kr(){if(Rn.save(),Rn.fillStyle=t,1!=O||0!=Le&&!F?(Jr(Rn,0,0,Et,It),Rn.fillRect(0,0,Et,It)):(Jr(Rn,0,0,Et,It-wn),Rn.fillRect(0,0,Et,It-wn)),Yt=0,ve)xr(fe,ie,ue,lt,3,9);else{for(var e=Math.cos(h+s),n=Math.sin(h+s)*nr[u],i=0;i<3;i++){or[i]=0,ar[i]=0;for(var v=0;v<3;v++){var d=Math.floor(u/2);or[i]+=fe[v]*(rr[d][i][v]+er[d][i][v]*e+tr[d][i][v]*n),ar[i]+=ie[v]*(rr[d][i][v]+er[d][i][v]*e+tr[d][i][v]*n)}}Qr(lr,or,ar);var g=Math.cos(h-s),m=Math.sin(h-s)*nr[u];for(i=0;i<3;i++){fr[i]=0,ir[i]=0;for(v=0;v<3;v++){d=Math.floor(u/2);fr[i]+=fe[v]*(rr[d][i][v]+er[d][i][v]*g+tr[d][i][v]*m),ir[i]+=ie[v]*(rr[d][i][v]+er[d][i][v]*g+tr[d][i][v]*m)}}Qr(ur,fr,ir),vr[0]=fe,dr[0]=ie,gr[0]=ue,vr[1]=or,dr[1]=ar,gr[1]=lr,vr[2]=fr,dr[2]=ir,gr[2]=ur,br[0]=ft,br[1]=it,br[2]=ut,br[3]=ct,br[4]=st,br[5]=ht,Or(Yr(Xr(cr,fe),5+D),Yr(Xr(hr,te[u]),.4)),Or(Yr(Xr(sr,fe),5+D),Yr(Xr(hr,te[1^u]),1/6));var b,M=zr(cr,te[u]),p=zr(sr,te[1^u]);b=M<0&&p>0?0:M>0&&p<0?1:2;for(i=0;i<6;i++){v=pr[b][i];var k=mr[c][v];xr(vr[k],dr[k],gr[k],br[v],Mr[c][v],i)}}if(Z||R||(ke=-1),!(Te>0&&2==O)){if(!F&&de.length>0){if(de[P].length>0){if(Le>0){Rn.lineWidth=Dn,Rn.strokeStyle=f;var L=(Et-2)*function(e,t){for(var r=0,n=0;n<t;n++)e[n]<1e3&&r++;return r}(de[P],C)/je(de[P]);Rn.fillStyle=l,Rn.fillRect(Fn,It-Le-Fn,Et-wn,Le),Rn.fillStyle=a,Rn.fillRect(Fn,It-Le-Fn,L,Le),Rn.beginPath(),Rn.rect(Fn,It-Le-Fn,Et-wn,Le),Rn.stroke()}var y=Ve(de[P],C)+"/"+Ve(de[P],-1)+Ke[z];Rn.font="bold "+ye+"px helvetica";var w=Rn.measureText(y).width,T=Et-w-2,A=It-Le-Math.floor(4*wn);N>0?(I&&Pr(Rn,y,Re?T-wn:T,A-ye),function(e,t){var n=0==C?Je(de[P],C):C,o=Ze(de[P],0,n),a=Ge(de[P],n),l=Ze(de[P],n+1,de[P].length);H&&(""==a&&(o=o.substr(0,o.length-1)),""!=l&&(l=" "+l.substr(0,l.length-1)));var f=e.measureText(o).width,i=e.measureText(a).width,u=e.measureText(l).width,c=1;c+f+i+u>Et&&(c=Math.min(1,Et/2-f-i/2),c=Math.max(c,Et-f-i-u-2));i>0&&(e.fillStyle=r,e.lineWidth=2,e.strokeStyle="black",e.beginPath(),Bn<=14?e.fillRect(c+f-1,It-Le-ye-Math.floor(4*wn),i+2,ye+Math.floor(3*wn)):e.fillRect(c+f-1,It-Le-ye-Math.floor(2*wn),i+2,ye+Math.floor(wn)));f>0&&Pr(e,o,c,t);i>0&&Pr(e,a,c+f,t);u>0&&Pr(e,l,c+f+i,t)}(Rn,A)):I&&Pr(Rn,y,Re?T-wn:T,A)}if(de.length>1){y=P+1+"/"+de.length,w=Rn.measureText(y).width,T=Et-w-2*Q-Math.floor(5*wn);Pr(Rn,y,T,Lr()),$r(Rn,7,Et-2*Q,0),$r(Rn,8,Et-Q,0)}}q>=0&&(Rn.font="bold "+ye+"px helvetica",Pr(Rn,Me[q],Re?wn:0,Lr()))}Rn.restore(),pe&&0!=O&&function(e){var t=Q%2==0?1:0;if(t+=Math.floor(wn+.5)-1,2==O)return e.fillStyle=0==ke||Te>0&&6==ke?sn(o):o,e.fillRect(Fn,It-Q,Q,Q),e.lineWidth=Dn,e.strokeStyle=f,e.beginPath(),e.rect(Fn,It-Q-Fn,Q,Q),e.stroke(),void $r(e,0,Q/2,It-(Q+1)/2-t);if(1==O){for(var r=0,n=0;n<7;n++){var a=Math.floor((Et-r)/(7-n));e.fillStyle=ke==n?sn(o):o,e.fillRect(r,It,a,Q),e.lineWidth=Dn,e.strokeStyle=f,e.beginPath(),0==n?e.rect(r+Fn,It-Fn,a-wn,Q):e.rect(r-Fn,It-Fn,a,Q),e.stroke(),e.strokeStyle="black",$r(e,n,r+a/2,It+Q/2-t),r+=a}pe=!1}}(Rn)}function Lr(){return Bn<10?Math.floor(10*wn):Bn<12?Math.floor(12*wn):Bn<14?Math.floor(14*wn):ye}var yr=[],Rr=[],wr=[],Fr=[],Dr=[[],[],[],[],[],[]],Tr=[[],[],[],[],[],[]],Ar=[[.1,.1],[.9,.1],[.9,.9],[.1,.9]],Br=[[0,0],[0,1],[1,1],[1,0]],Sr=[];function xr(e,t,r,n,o,a){for(var l=0;l<8;l++){var f=(v=Et<It?Et:It-Le)/3.7*zr(re[l],t)*T,s=v/3.7*zr(re[l],r)*T;f/=1-(d=v/(5+D)*zr(re[l],e)*T)/v,s/=1-d/v,wr[l]=Et/2+f,Fr[l]=0==A?(It-Le)/2*T-s:1==A?(It-Le)/2-s:2==A?It-Le-(It-Le)/2*T-s:(It-Le)*(A*(1-T)+T/2)-s}for(l=0;l<6;l++)for(var h=0;h<4;h++)Dr[l][h]=wr[ne[l][h]],Tr[l][h]=Fr[ne[l][h]];if(B)for(l=0;l<6;l++)if(Or(Yr(Xr(cr,e),5+D),te[l]),zr(cr,te[l])<0){Yr(Xr(Sr,te[l]),S);var v,d;f=(v=Et<It?Et:It-Le)/x*zr(Sr,t),s=v/U*zr(Sr,r);f/=1-(d=v/(5+D)*zr(Sr,e))/v,s/=1-d/v;var g=n[l][0][1]-n[l][0][0],m=n[l][1][1]-n[l][1][0];if(g>0&&m>0)for(var p=0,k=n[l][1][0];p<m;p++,k++)for(var L=0,y=n[l][0][0];L<g;L++,y++){for(h=0;h<4;h++)Ur(l,h,yr,Rr,y+Ar[h][0],k+Ar[h][1],b),yr[h]=Math.floor(yr[h]+(b?-f:f)),Rr[h]=Math.floor(Rr[h]-s);1==Fe?(nn(Rn,yr,Rr,"#fdfdfd"),rn(Rn,yr,Rr,E?sn("#fdfdfd"):"#fdfdfd"),fn(Rn,yr,Rr,l,$[l][6*k+y],J[V[l][6*k+y]])):(nn(Rn,yr,Rr,J[V[l][6*k+y]]),rn(Rn,yr,Rr,E?sn(J[V[l][6*k+y]]):J[V[l][6*k+y]]))}}var w=0;w=u>3?n[0][0][0]:u<2?n[2][0][0]:n[1][0][0];for(l=0;l<6;l++){g=n[l][0][1]-n[l][0][0],m=n[l][1][1]-n[l][1][0];if(g<=0||m<=0){var F=0;if(0!=w&&5!=w||0!=o?1!=w&&4!=w||1!=o?2!=w&&3!=w||6!=o?4!=c&&5!=c||2==o&&(1==w&&l%2==0||4==w&&l%2==1)&&(F=1/6):F=l%2==u%2?1/3:.5:F=l%2==u%2?1/6:2/3:F=5/6,0!=F){for(h=0;h<4;h++){var I=oe[l][h];yr[h]=Math.floor(Dr[l][h]+(Dr[1^l][I]-Dr[l][h])*F),Rr[h]=Math.floor(Tr[l][h]+(Tr[1^l][I]-Tr[l][h])*F),b&&(yr[h]=Et-yr[h])}nn(Rn,yr,Rr,i)}}else{for(h=0;h<4;h++)Ur(l,h,yr,Rr,n[l][0][Br[h][0]],n[l][1][Br[h][1]],b);a<5?nn(Rn,yr,Rr,i):(Or(Yr(Xr(cr,e),5+D),te[l]),zr(cr,te[l])>0&&nn(Rn,yr,Rr,i))}}for(l=0;l<6;l++)if(Or(Yr(Xr(cr,e),5+D),te[l]),zr(cr,te[l])>0){g=n[l][0][1]-n[l][0][0],m=n[l][1][1]-n[l][1][0];if(g>0&&m>0)for(p=0,k=n[l][1][0];p<m;p++,k++)for(L=0,y=n[l][0][0];L<g;L++,y++){for(h=0;h<4;h++)Ur(l,h,yr,Rr,y+Ar[h][0],k+Ar[h][1],b);1==Fe?(rn(Rn,yr,Rr,"#fdfdfd"),nn(Rn,yr,Rr,"#fdfdfd"),fn(Rn,yr,Rr,l,$[l][6*k+y],J[V[l][6*k+y]])):(rn(Rn,yr,Rr,J[V[l][6*k+y]]),nn(Rn,yr,Rr,J[V[l][6*k+y]]))}if(!M||R)continue;var P=(Dr[l][1]-Dr[l][0]+Dr[l][2]-Dr[l][3])/6,C=(Dr[l][3]-Dr[l][0]+Dr[l][2]-Dr[l][1])/6,X=(Tr[l][1]-Tr[l][0]+Tr[l][2]-Tr[l][3])/6,W=(Tr[l][3]-Tr[l][0]+Tr[l][2]-Tr[l][1])/6;if(3==o)for(h=0;h<12;h++){for(I=0;I<4;I++)Ur(l,I,Nt[Yt],Ht[Yt],jt[h][I][0],jt[h][I][1],!1);if(Gt[Yt]=(P*Jt[h][0]+X*Jt[h][1])*Vt[l][h],Kt[Yt]=(C*Jt[h][0]+W*Jt[h][1])*Vt[l][h],$t[Yt]=ae[l][h%4],_t[Yt]=h>3?1:0,(Yt>7&&Yt<12||Yt>19&&Yt<24||Yt>31&&Yt<36)&&(_t[Yt]=6),36==++Yt)break}else if(0==o){if(l!=u&&g>0&&m>0){for(h=6==g?0==n[l][1][0]?0:2:0==n[l][0][0]?3:1,I=0;I<4;I++)Ur(l,I,Nt[Yt],Ht[Yt],jt[h][I][0],jt[h][I][1],!1);Gt[Yt]=(P*Jt[h][0]+X*Jt[h][1])*Vt[l][h],Kt[Yt]=(C*Jt[h][0]+W*Jt[h][1])*Vt[l][h],$t[Yt]=u,_t[Yt]=0,Yt++}}else if(1==o){if(l!=u&&g>0&&m>0){h=6==g?1==n[l][1][0]?0:2:1==n[l][0][0]?3:1;h+=4;for(I=0;I<4;I++)Ur(l,I,Nt[Yt],Ht[Yt],jt[h][I][0],jt[h][I][1],!1);Gt[Yt]=(P*Jt[h][0]+X*Jt[h][1])*Vt[l][h],Kt[Yt]=(C*Jt[h][0]+W*Jt[h][1])*Vt[l][h],$t[Yt]=u,_t[Yt]=1,Yt++}}else if(6==o&&l!=u&&g>0&&m>0){h=6==g?2==n[l][1][0]?0:2:2==n[l][0][0]?3:1;h+=8;for(I=0;I<4;I++)Ur(l,I,Nt[Yt],Ht[Yt],jt[h][I][0],jt[h][I][1],!1);Gt[Yt]=(P*Jt[h][0]+X*Jt[h][1])*Vt[l][h],Kt[Yt]=(C*Jt[h][0]+W*Jt[h][1])*Vt[l][h],$t[Yt]=u,_t[Yt]=6,Yt++}}}function Ur(e,t,r,n,o,a,l){o/=6,a/=6;var f=Dr[e][0]+(Dr[e][1]-Dr[e][0])*o,i=Tr[e][0]+(Tr[e][1]-Tr[e][0])*o,u=Dr[e][3]+(Dr[e][2]-Dr[e][3])*o,c=Tr[e][3]+(Tr[e][2]-Tr[e][3])*o;r[t]=Math.floor(.5+f+(u-f)*a),n[t]=Math.floor(.5+i+(c-i)*a),l&&(r[t]=Et-r[t])}var Er=[1,1,-1,-1,-1,1,1,-1,-1,0,1,0,0,1,0,-1],Ir=[];function Pr(e,t,r,o){if(Re){e.fillStyle="black";for(var a=0;a<Ir.length;a+=2)e.fillText(t,r+Ir[a],o+Ir[a+1]);e.fillStyle="white"}else e.fillStyle=n;e.fillText(t,r,o)}var Cr=[-1,3,1,-1,0,2,4,-1];function Xr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Wr(e){var t=Math.sqrt(zr(e,e));return e[0]/=t,e[1]/=t,e[2]/=t,e}function Yr(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,e}function zr(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function qr(e,t){return e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],e}function Or(e,t){return e[0]-=t[0],e[1]-=t[1],e[2]-=t[2],e}function Qr(e,t,r){return e[0]=t[1]*r[2]-t[2]*r[1],e[1]=t[2]*r[0]-t[0]*r[2],e[2]=t[0]*r[1]-t[1]*r[0],e}function Zr(e,t){var r=Math.sin(t),n=Math.cos(t),o=e[1]*n-e[2]*r,a=e[1]*r+e[2]*n;return e[1]=o,e[2]=a,e}function Nr(e,t){var r=Math.sin(t),n=Math.cos(t),o=e[0]*n-e[2]*r,a=e[0]*r+e[2]*n;return e[0]=o,e[2]=a,e}function Hr(e,t){var r=Math.sin(t),n=Math.cos(t),o=e[0]*n-e[1]*r,a=e[0]*r+e[1]*n;return e[0]=o,e[1]=a,e}function Gr(e,t,r){return"#"+Kr(e.toString(16))+Kr(t.toString(16))+Kr(r.toString(16))}function Kr(e){return("00"+e).substring(e.length)}function jr(e){for(var t=0,r=0;r<6;r++)for(var n=0;n<16;n++)if(e[r].toLowerCase()=="0123456789abcdef".charAt(n)){t++;break}return 6==t}function Jr(e,t,r,n,o){e.beginPath(),e.moveTo(t,r),e.lineTo(t+n,r),e.lineTo(t+n,r+o),e.lineTo(t,r+o),e.lineTo(t,r),e.closePath(),e.clip()}var Vr=[];function $r(e,t,r,n){switch(r=Math.floor(r),n=Math.floor(n),t){case 0:en(e,r-Vr[4],n-Vr[3],Vr[3],Vr[6]+1),_r(e,r+Vr[4],n,-1);break;case 1:en(e,r+Vr[1],n-Vr[3],Vr[3],Vr[6]+1),_r(e,r-Vr[1],n,-1);break;case 2:_r(e,r+Vr[1],n,-1);break;case 3:R?en(e,r-Vr[4],n-Vr[3],Vr[7],Vr[7]):(en(e,r-Vr[4],n-Vr[2],Vr[7],Vr[5]),en(e,r-Vr[2],n-Vr[4],Vr[3],Vr[9]));break;case 4:_r(e,r-Vr[2],n,1);break;case 5:en(e,r-Vr[4],n-Vr[3],Vr[3],Vr[6]+1),_r(e,r,n,1);break;case 6:en(e,r+Vr[1],n-Vr[3],Vr[3],Vr[6]+1),_r(e,r-Vr[4],n,1);break;case 7:var a=7==ke?sn(o):o;tn(e,r-2*wn,n+wn,Q,n+Q,a),_r(e,r+2*wn+Q/2-3*wn,n+Q/2+Fn,-1);break;case 8:a=8==ke?sn(o):o;tn(e,r-2*wn,n+wn,Q,n+Q,a),_r(e,r-wn+Q/2-3*wn,n+Q/2+Fn,1)}}function _r(e,t,r,n){var o=3*wn,a=[],l=[];a[0]=t,a[1]=t+n,a[2]=t+4*wn*n,a[3]=t+n,a[4]=t,l[0]=r-o,l[1]=r-o,l[2]=r,l[3]=r+o,l[4]=r+o,function(e,t,r){e.beginPath(),e.moveTo(t[0]+Fn,r[0]+Fn);for(var n=1;n<5;n++)e.lineTo(t[n]+Fn,r[n]+Fn);e.closePath(),e.fillStyle="white",e.strokeStyle="black",e.fill(),e.lineWidth=Dn,e.stroke()}(e,a,l)}function en(e,t,r,n,o){e.lineWidth=Dn,e.beginPath(),e.rect(t+Fn,r+Fn,n-1,o-1),e.fillStyle="white",e.fill(),e.strokeStyle="black",e.stroke()}function tn(e,t,r,n,o,a){e.lineWidth=Dn,e.beginPath(),e.rect(t+Fn,r+Fn,n-1,o-1),e.fillStyle=a,e.fill(),e.strokeStyle="black",e.stroke()}function rn(e,t,r,n){e.beginPath(),e.moveTo(t[0],r[0]),e.lineTo(t[1],r[1]),e.lineTo(t[2],r[2]),e.lineTo(t[3],r[3]),e.closePath(),e.strokeStyle=n,e.lineWidth=.7*wn,e.stroke()}function nn(e,t,r,n){e.beginPath(),e.moveTo(t[0],r[0]),e.lineTo(t[1],r[1]),e.lineTo(t[2],r[2]),e.lineTo(t[3],r[3]),e.closePath(),e.fillStyle=n,e.fill()}var on,an,ln=[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]];function fn(e,t,r,n,o,a){var l=[],f=[];if(2!=Be||"#ffffff"!=a){for(var i=0;i<4;i++)l[i]=Math.floor(t[i]+.05*(t[ln[2][i]]-t[i])),f[i]=Math.floor(r[i]+.05*(r[ln[2][i]]-r[i]));0==n&&(o=(o+1)%4),4==n&&(o=(o+3)%4);var u=ln[o][0],c=ln[o][1],s=ln[o][2],h=ln[o][3],v=.26*(l[s]-l[c]),d=.26*(f[s]-f[c]),g=(l[u]-l[c])/2,m=f[c]+(f[u]-f[c])/2,b=f[s]+(f[h]-f[s])/2,M=(l[h]-l[s])/2,p=1^o;e.fillStyle=a,e.beginPath(),e.moveTo(l[u]+(l[h]-l[u])/2,f[u]+(f[h]-f[u])/2),e.lineTo(l[p]+g,m),e.lineTo(l[p]+v+g,m+d),e.lineTo(l[p]+v,f[p]+d),p=(p+1)%4,e.lineTo(l[p]-v,f[p]-d),e.lineTo(l[p]-v+M,b-d),e.lineTo(l[p]+M,b),e.closePath(),e.fill(),e.lineWidth=.6*wn,e.strokeStyle="black",e.stroke()}}function un(e){return"white"==e?"#FFFFFF":"black"==e?"#000000":"#808080"}function cn(e){return"#"!=e.substring(0,1)&&(e=un(e)),(299*parseInt(e.substring(1,3),16)+587*parseInt(e.substring(3,5),16)+114*parseInt(e.substring(5,7),16))/1e3}function sn(e){"#"!=e.substring(0,1)&&(e=un(e));var t=parseInt(e.substring(1,3),16),r=parseInt(e.substring(3,5),16),n=parseInt(e.substring(5,7),16);return Gr(t=Math.floor(.7*t),r=Math.floor(.7*r),n=Math.floor(.7*n))}function hn(e,t){if(e>rt)setTimeout(hn,0,e,t);else{if(!Y){for(var r=de[P];C<r.length;){if(r[C]>=1e3)q=r[C]-1e3;else if(-1!=r[C]){var n=r[C]%4+1,o=Math.floor(r[C]/4)%7,a=Math.floor(r[C]/28);yt(V,a,4==n?2:n,o)}C++}return R=!1,pe=!0,kr(),void rt++}var l,f,i,g,b,M,k=t;!1,requestAnimationFrame((function e(){if(D){if(D=!1,M=!1,p)k>0?C>=r.length&&(C=0,_e(r)):(q=-1,0==C&&(C=r.length));else if(k>0&&C>=r.length||k<0&&0==C)return m=!1,R=!1,rt++,pe=!0,void kr();R=!0,pe=!0}if(T&&(T=!1,k<0&&(S=!1,0==C?(S=!0,B=!0):C--),!S)){if(w=!1,-1==r[C]){if(kr(),!W)for(l=Date.now();Date.now()-l<1e3;);}else r[C]>=1e3?q=k>0?r[C]-1e3:-1:w=!0;if(w){n=r[C]%4+1,o=Math.floor(r[C]/4)%7;var t=n<3;if(4==n&&(n=2),k<0&&(t=!t,n=4-n),a=Math.floor(r[C]/28),L=!1,ve=!0,y=!0,h=0,le[a]>0&&(t=!t),Y){b=Math.PI/2,g=t?1:-1;var x=67*v;2==n&&(b=Math.PI,x=67*d),L=!0,u=a,c=o,Lt(a),l=Date.now(),f=l,i=g*b/x,s=0}}else A=!0}S||(w&&(Y&&s*g<b?(kr(),m&&(A=!0),f=Date.now(),s=i*(f-l)):A=!0),A&&(A=!1,T=!0,w&&(s=0,L=!1,ve=!0,yt(V,a,n,o),y=!1,Y&&kr(),W&&(M=!0)),k>0?(++C<r.length&&r[C]>=1e3&&(q=r[C]-1e3,C++),C==r.length&&(F?function(e){C=0;for(var t=0;t<6;t++)for(var r=0;r<36;r++)V[t][r]=_[t][r],$[t][r]=ee[t][r];me.length>0&&void 0!==me[P]&&et(V,me[P],0,me[P].length,!1);be.length>0&&void 0!==be[P]&&et(V,be[P],0,be[P].length,!0);_e(e)}(r):B=!0)):q=-1,(m||M)&&(B=!0)));if(B)return B=!1,D=!0,tt<=rt+1&&(R=!1),pe=!0,0==ke&&at(),kr(),F&&(at(),F=!1),m=!1,rt++,void(1==C&&r[0]>=1e3&&C--);requestAnimationFrame(e)}));var w=!1,D=!0,T=!0,A=!1,B=!1,S=!1;r=F?ge[0]:de[P]}}document.addEventListener("touchstart",pn),document.addEventListener("touchmove",Un),document.addEventListener("touchend",Mn),document.addEventListener("mousedown",pn),document.addEventListener("mousemove",Un),document.addEventListener("mouseup",Mn),document.addEventListener("contextmenu",Pn);var vn=!1,dn=!0,gn=document.getElementsByTagName("div"),mn=gn.length>0&&"wrap"==gn[0].className;function bn(e){mn?gn[0].style.overflow=e:document.body.style.overflow=e}function Mn(e){if(vn&&void 0!==e.touches&&(e.preventDefault(),bn("auto")),vn?setTimeout((function(){dn=!0}),100):dn=!0,vn=!1,w=!1,Z)Z=!1,pe=!0,kr();else if(L&&!y){L=!1,h+=s,s=0;for(var t=h;t<0;)t+=32*Math.PI;var r=Math.floor(8*t/Math.PI)%16;(we||r%4==0||r%4==3)&&(r=Math.floor((r+2)/4),le[u]>0&&(r=(4-r)%4),h=0,ve=!0,yt(V,u,r,c)),kr()}}function pn(e){var t=yn.getBoundingClientRect(),r=Math.floor(t.left),n=Math.floor(t.top);if(void 0===e.touches)var o=e.clientX,a=e.clientY;else o=e.touches[0].clientX,a=e.touches[0].clientY;o<r||o>r+Et/wn||a<n||a>n+(It+Q)/wn||(e.preventDefault(),vn=!0,dn=!1,void 0!==e.touches&&(e.preventDefault(),bn("hidden")),on=r,an=n,Xt=Pt=En(e),Wt=Ct=In(e),g=!1,ke=function(e,t){if(0==O)return-1;if(de.length>1&&e>=Et-2*Q&&e<Et-Q&&t>=0&&t<Q)return 7;if(de.length>1&&e>=Et-Q&&e<Et&&t>=0&&t<Q)return 8;if(2==O)return e>=0&&e<Q&&t>=It-Q&&t<It?0:-1;if(t<It)return-1;for(var r=0,n=0;n<7;n++){var o=(Et-r)/(7-n);if(e>=r&&e<r+o&&t>=It&&t<It+Q)return n;r+=o}return-1}(Pt,Ct),ke>=0?(Z=!0,3==ke?R?ot():b=!b:0==ke?Te>0&&2==O?1==De?(De=!1,ot(),at()):(De=!0,nt(Cr[ke=6])):(ot(),at()):7==ke||8==ke?(ot(),setTimeout(at,20),P=7==ke?P>0?P-1:de.length-1:P<de.length-1?P+1:0):nt(Cr[ke]),pe=!0,kr()):Le>0&&de.length>0&&de[P].length>0&&Ct>It-Le&&Ct<=It?k&&(ot(),kn(tt++)):(b&&(Xt=Pt=Et-Pt),void 0===e.touches?!M||R||0!=e.button||e.shiftKey||(g=!0):M&&!R&&(g=!0)))}function kn(e){if(e>rt)setTimeout(kn,0,e);else{var t=je(de[P]),r=Math.floor(((Pt-1)*t*2/(Et-2)+1)/2);(r=Math.max(0,Math.min(t,r)))>0&&(r=Je(de[P],r)),r>C&&et(V,de[P],C,r-C,!1),r<C&&et(V,de[P],r,C-r,!0),C=r,w=!0,kr(),R=!1,rt++}}var Ln,yn,Rn,wn,Fn,Dn,Tn,An,Bn,Sn,xn=[];function Un(e){if(vn&&!Z){if(w){ot();var t=je(de[P]),r=Math.floor(((En(e)-1)*t*2/(Et-2)+1)/2);return(r=Math.max(0,Math.min(t,r)))>0&&(r=Je(de[P],r)),r>C&&et(V,de[P],C,r-C,!1),r<C&&et(V,de[P],r,C-r,!0),C=r,void kr()}var n=b?Et-En(e):En(e),o=In(e),a=n-Pt,l=o-Ct;if(M&&g&&!L&&!R){Xt=n,Wt=o;for(var f=0;f<Yt;f++){var i=Nt[f][0],h=Nt[f][1]-i,v=Nt[f][3]-i,d=Ht[f][0],m=Ht[f][1]-d,p=Ht[f][3]-d,k=(p*(Pt-i)-v*(Ct-d))/(h*p-v*m),y=(-m*(Pt-i)+h*(Ct-d))/(h*p-v*m);if(k>0&&k<1&&y>0&&y<1){if(a*a+l*l<144)return;if(Qt=Gt[f],Zt=Kt[f],Math.abs(Qt*a+Zt*l)/Math.sqrt((Qt*Qt+Zt*Zt)*(a*a+l*l))>.75){L=!0,u=$t[f],c=_t[f];break}}}g=!1,Pt=Xt,Ct=Wt}a=(n-Pt)/wn,l=(o-Ct)/wn,!L||R?(Wr(qr(fe,Yr(Xr(xn,ie),-.016*a))),Wr(Qr(ie,ue,fe)),Wr(qr(fe,Yr(Xr(xn,ue),.016*l))),Wr(Qr(ue,fe,ie)),Pt=n,Ct=o):(ve&&Lt(u),s=.03*(Qt*a+Zt*l)/Math.sqrt(Qt*Qt+Zt*Zt)),kr()}}function En(e){return void 0===e.touches?(e.clientX-on)*wn:(e.touches[0].clientX-on)*wn}function In(e){return void 0===e.touches?(e.clientY-an)*wn:(e.touches[0].clientY-an)*wn}function Pn(e){dn||e.preventDefault()}function Cn(){clearTimeout(Ln),Ln=setTimeout((function(){Xn(),pe=!0,kr()}),20)}function Xn(){It=Sn.clientHeight-1,Et=Sn.clientWidth-1,yn.style.width=Et+"px",yn.style.height=It+"px",wn=devicePixelRatio,Fn=wn/2,It=Math.floor(It*wn),Et=Math.floor(Et*wn),yn.width=Et,yn.height=It,Dn=wn,Q=Math.floor(Tn*wn),Le=Math.floor(An*wn),ye=Math.floor(Bn*wn);for(var e=1;e<10;e++)Vr[e]=e*wn;for(e=0;e<Er.length;e++)Ir[e]=Er[e]*wn;1==O&&(It-=Q)}function Wn(e,t){var r,n,o=["R","L","F","B","U","D"],a=["","m","n"],l=["","2","'"],f=-1,i=-1,u=-1,c="";0==t&&(t=10*e);for(var s=0;s<t;s++){for(;f==i||Math.floor(f/2)==Math.floor(i/2)&&f==u;)f=Math.floor(6*Math.random());u=i,i=f,r=Math.floor(3*Math.random()),e<=3?c+=""+o[f]+l[r]+" ":(n=Math.floor(Math.random()*(e>4?3:2)),5==e&&1==n&&(n=0),c+=""+o[f]+a[n]+l[r]+" ")}return c}window.addEventListener("resize",Cn);var Yn=[];function zn(){ot(),document.removeEventListener("mousedown",pn),document.removeEventListener("touchstart",pn),document.removeEventListener("touchmove",Un),document.removeEventListener("touchend",Mn),document.removeEventListener("mousedown",pn),document.removeEventListener("mousemove",Un),document.removeEventListener("mouseup",Mn),document.removeEventListener("contextmenu",Pn),window.removeEventListener("resize",Cn)}!function(){yn=document.createElement("canvas"),void 0!==e&&function(){for(var t=e.split("&"),r=0;r<t.length;r++){var n=t[r].split("=");void 0!==n[1]&&(Yn[n[0]]=decodeURIComponent(n[1].trim()))}}();var t=Pe("id");if(null!=t)(Sn=document.getElementById(t)).innerHTML="";else if(null!=document.currentScript)Sn=document.currentScript.parentNode;else{var r=document.getElementsByTagName("script"),n=r[r.length-1];Sn=n.parentNode}null!=Sn.id&&"undefined"!=typeof removeListeners&&(removeListeners[Sn.id]=zn);for(var o=0;o<6;o++)V[o]=[],$[o]=[],_[o]=[],ee[o]=[];for(o=0;o<36;o++)Nt[o]=[],Ht[o]=[];P=0,h=0,Ee()}()}