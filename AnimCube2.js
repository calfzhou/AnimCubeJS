"use strict";function AnimCube2(t){var e,r,n,o,a,l,f,i,u,c,s,h,v,d,g,m,b,M,p,k,L,w,y,T,A,R,S,F,D,x,E,B,I,U,P,C,W,X,Y,q,z,O,Q,N,Z,H=[],G=[],K=[],j=[],J=[],V=[],$=[[0,-1,0],[0,1,0],[0,0,-1],[0,0,1],[-1,0,0],[1,0,0]],_=[[-1,-1,-1],[1,-1,-1],[1,-1,1],[-1,-1,1],[-1,1,-1],[1,1,-1],[1,1,1],[-1,1,1]],tt=[[0,1,2,3],[4,7,6,5],[0,4,5,1],[2,6,7,3],[0,3,7,4],[1,5,6,2]],et=[[0,3,2,1],[0,3,2,1],[3,2,1,0],[3,2,1,0],[0,3,2,1],[0,3,2,1]],rt=[[2,5,3,4],[4,3,5,2],[4,1,5,0],[5,1,4,0],[0,3,1,2],[2,1,3,0]],nt=[1,1,-1,-1,-1,-1],ot=[0,0,-1],at=[1,0,0],lt=[],ft=[],it=[],ut=[],ct=!0,st=[],ht=[],vt=[],dt=!0,gt=-1,mt=6,bt=12,Mt=!0,pt=!1,kt=!1,Lt=!1,wt=!1,yt=0,Tt=0,At=0,Rt=0,St=[3,2,0,5,1,4],Ft=[[2,0,3,1],[1,3,0,2],[0,1,2,3],[0,1,2,3],[2,0,3,1],[0,1,2,3]];function Dt(){var t=Et("config");null!=t?function(t){var e=new XMLHttpRequest;function r(){4==e.readyState&&(200==e.status?function(t){for(var e=t.split("\n"),r=0;r<e.length;r++){var n=e[r].split("=");void 0!==n[1]&&(H[n[0]]=n[1].trim())}}(e.responseText):console.log("Error loading config file: "+t),xt())}e.onreadystatechange=r,e.open("GET",t,!0),e.send()}(t):xt()}function xt(){G[0]=Dr(255,128,64),G[1]=Dr(255,0,0),G[2]=Dr(0,255,0),G[3]=Dr(0,0,255),G[4]=Dr(153,153,153),G[5]=Dr(170,170,68),G[6]=Dr(187,119,68),G[7]=Dr(153,68,68),G[8]=Dr(68,119,68),G[9]=Dr(0,68,119),G[10]=Dr(255,255,255),G[11]=Dr(255,255,0),G[12]=Dr(255,96,32),G[13]=Dr(208,0,0),G[14]=Dr(0,144,0),G[15]=Dr(32,64,208),G[16]=Dr(176,176,176),G[17]=Dr(80,80,80),G[18]=Dr(255,0,255),G[19]=Dr(0,255,255),G[20]=Dr(255,160,192),G[21]=Dr(32,255,16),G[22]=Dr(0,0,0),G[23]=Dr(128,128,128);var t=Et("bgcolor");if(e=null!=t&&6==t.length&&Er(t)?"#"+t:"gray",t=Et("butbgcolor"),o=null!=t&&6==t.length&&Er(t)?"#"+t:e,null!=(t=Et("colors")))for(var u=0;u<10&&u<t.length/6;u++)Er(t.substring(6*u,6*u+6))&&(G[u]="#"+t.substring(6*u,6*u+6));for(u=0;u<6;u++)for(var c=0;c<4;c++)K[u][c]=u+10;if(null!=(t=Et("supercube"))&&"1"==t){Lt=!0,Bt(.06);for(u=0;u<4;u++)K[0][u]=22;null!=(t=Et("scw"))&&("1"==t?At=1:"2"==t&&(At=2)),1==At&&(G[10]="#000000")}if(null!=(t=Et("gabbacolors"))&&"1"==t&&(1==Lt?(G[11]="#fdcf00",G[12]="#fd4e0a",G[13]="#93000d",G[14]="#00702d",G[15]="#00347a"):(Bt(.06),G[11]="#ffd90a",G[12]="#ff4f0b",G[13]="#9e0b19",G[14]="#0b7d39",G[15]="#0b4186")),null!=(t=Et("borderwidth"))){for(u=0;u<t.length;u++)t.charAt(u)>="0"&&t.charAt(u)<="9"&&(Rt=10*Rt+parseInt(t[u]));Rt>=0&&Rt<=20&&Bt(Rt/100)}if(Lt)for(u=0;u<6;u++)for(c=0;c<4;c++)j[u][c]=0;var s="lluu";if(null!=(t=Et("colorscheme"))&&6==t.length)for(u=0;u<6;u++){var h=23;for(c=0;c<23;c++)if(t[u].toLowerCase()=="0123456789wyorgbldmcpnk".charAt(c)){h=c;break}for(c=0;c<4;c++)K[u][c]=h}if("1"==(t=Et("scramble"))?yt=1:"2"==t&&(yt=2),2==yt)for(u=0;u<6;u++)for(c=0;c<4;c++)J[u][c]=K[u][c],V[u][c]=j[u][c];if(0==yt){if(null!=(t=Et("pos"))&&24==t.length){s="uuuuff","gray"==e&&(e="white");for(u=0;u<6;u++){var g=St[u];for(c=0;c<4;c++){var m=Ft[u][c];K[g][m]=23;for(var b=0;b<14;b++)if(t.charAt(9*u+c)=="DFECABdfecabgh".charAt(b)){K[g][m]=b+4;break}}}}if(null!=(t=Et("facelets"))&&24==t.length)for(u=0;u<6;u++)for(c=0;c<4;c++){K[u][c]=23;for(b=0;b<23;b++)if(t[4*u+c].toLowerCase()=="0123456789wyorgbldmcpnk".charAt(b)){K[u][c]=b;break}}if(null!=(t=Et("superfacelets"))&&24==t.length)for(u=0;u<6;u++)for(c=0;c<4;c++)for(b=0;b<4;b++)if(t[4*u+c].toLowerCase()=="0123".charAt(b)){j[u][c]=b;break}}if(null!=(t=Et("randmoves"))){var L=0;for(u=0;u<t.length;u++)t.charAt(u)>="0"&&t.charAt(u)<="9"&&(L=10*L+parseInt(t[u]));L>0&&(Tt=L)}if(("random"==(t=Et("move"))||yt>0)&&(t=pn(2,Tt)),st=null==t?[]:Pt(t,!0),P=0,q=-1,0==yt&&null!=(t=Et("initmove"))){"random"==t&&(t=pn(2,Tt));var w="#"==t?st:Pt(t,!1);w.length>0&&Kt(K,w[0],0,w[0].length,!1)}if(t=Et("initrevmove"),1==yt?t=null:2==yt&&(t="#"),null!=t){"random"==t&&(t=pn(2,Tt));var y="#"==t?st:Pt(t,!1);y.length>0&&Kt(K,y[0],0,y[0].length,!0)}0==yt&&null!=(t=Et("demo"))&&("random"==t&&(t=pn(2,Tt)),(ht="#"==t?st:Pt(t,!0)).length>0&&ht[0].length>0&&(A=!0)),t=Et("position"),kr(Ar(lt,ot,at)),null==t&&(t=s);var T=Math.PI/12;for(u=0;u<t.length;u++){var U=T;switch(t[u].toLowerCase()){case"d":U=-U;case"u":Sr(ot,U),Sr(at,U);break;case"f":U=-U;case"b":Fr(ot,U),Fr(at,U);break;case"l":U=-U;case"r":Rr(ot,U),Rr(at,U)}}if(kr(Ar(lt,ot,at)),v=0,d=0,null!=(t=Et("speed")))for(u=0;u<t.length;u++)t.charAt(u)>="0"&&t.charAt(u)<="9"&&(v=10*v+parseInt(t[u]));if(null!=(t=Et("doublespeed")))for(u=0;u<t.length;u++)t.charAt(u)>="0"&&t.charAt(u)<="9"&&(d=10*d+parseInt(t[u]));if(0==v&&(v=10),0==d&&(d=3*v/2),R=0,null==(t=Et("perspective")))R=2;else for(u=0;u<t.length;u++)t.charAt(u)>="0"&&t.charAt(u)<="9"&&(R=10*R+parseInt(t[u]));var C,W=0;if(null!=(t=Et("scale")))for(u=0;u<t.length;u++)t.charAt(u)>="0"&&t.charAt(u)<="9"&&(W=10*W+parseInt(t[u]));if(S=1/(1+W/10),D=!1,null!=(t=Et("hint"))){D=!0,x=0;for(u=0;u<t.length;u++)t.charAt(u)>="0"&&t.charAt(u)<="9"&&(x=10*x+parseInt(t[u]));x<1?D=!1:x/=10}(E=3.7,null!=(t=Et("hinthoriz")))&&((C=parseFloat(t))>0&&(E=C));(B=3.7,null!=(t=Et("hintvert")))&&((C=parseFloat(t))>0&&(B=C));(I=0,null!=(t=Et("hintborder"))&&"1"==t&&(I=1),O=13,null!=(t=Et("buttonheight")))&&((C=parseInt(t))>=9&C<=25&&(O=C));(mt=0==st.length?0:6,z=1,"0"==(t=Et("buttonbar"))?(z=0,O=0,mt=0):"1"==t?z=1:"2"!=t&&0!=st.length||(z=2,mt=0),t=Et("edit"),M="0"!=t,t=Et("repeat"),p="0"!=t,t=Et("clickprogress"),k="0"!=t,t=Et("movetext"),N="1"==t?1:0,Z=1,"0"==(t=Et("movetextspace"))&&(Z=0),null!=(t=Et("textsize")))&&((C=parseInt(t))>=5&C<=40&&(bt=C));(t=Et("fonttype"),Mt=null==t||"1"==t,Y=0,null!=(t=Et("metric"))&&("1"==t?Y=1:"2"==t?Y=2:"3"==t&&(Y=3)),F=1,null!=(t=Et("align")))&&((C=parseInt(t))>=0&C<=3&&(F=C),C>=3&C<=99&&(F=C/100));if(null!=(t=Et("ww"))&&"1"==t&&(pt=!0),null!=(t=Et("snap"))&&"1"==t&&(kt=!0),2!=yt)for(u=0;u<6;u++)for(c=0;c<4;c++)J[u][c]=K[u][c],V[u][c]=j[u][c];for(u=0;u<3;u++)ft[u]=ot[u],it[u]=at[u],ut[u]=lt[u];Nr(e)<128?(n="white",r=function(t){"#"!=t.substring(0,1)&&(t=Qr(t));var e=parseInt(t.substring(1,3),16),r=parseInt(t.substring(3,5),16),n=parseInt(t.substring(5,7),16);return e=Math.floor(1.3*e),r=Math.floor(1.3*r),n=Math.floor(1.3*n),Dr(e>255?255:e,r>255?255:r,n>255?255:n)}(e)):(n="black",r=Zr(e)),f=Nr(o)<128?"white":"black",a=n,null!=(t=Et("slidercolor"))&&6==t.length&&Er(t)&&(a="#"+t),l=Zr(e),null!=(t=Et("sliderbgcolor"))&&6==t.length&&Er(t)&&(l="#"+t),null!=(t=Et("troughcolor"))&&6==t.length&&Er(t)&&(l="#"+t),i="black",null!=(t=Et("cubecolor"))&&6==t.length&&Er(t)&&(i="#"+t),q=-1,nn=rn.getContext("2d"),fn=O,un=mt,cn=bt,Mn(),sn.appendChild(rn),rr(),A&&Vt(-1)}function Et(t){var e=kn[t];return void 0===e?H[t]:e}function Bt(t){cr[0][0]=cr[0][1]=cr[1][1]=cr[3][0]=t,cr[1][0]=cr[2][0]=cr[2][1]=cr[3][1]=1-t}var It=[0,0,0,0,0,0,1,1,1,3,3,3,3,3,3,2,2,2,2,2,2],Ut=[0,1,2,3,4,5,1,2,4,5,2,0,5,2,0,0,1,2,3,4,5];function Pt(t,e){if(e){for(var r=t.indexOf("{");-1!=r;)r=t.indexOf("{",r+1);if(null==vt)q=0,vt=[];else{for(var n=[],o=0;o<vt.length;o++)n[o]=vt[o];q=vt.length,vt=n}}var a=1;for(r=t.indexOf(";");-1!=r;)a++,r=t.indexOf(";",r+1);var l=[],f=0;for(r=t.indexOf(";"),a=0;-1!=r;)l[a++]=Wt(t.substring(f,r),e),f=r+1,r=t.indexOf(";",f);return l[a]=Wt(t.substring(f),e),l}var Ct=["m","t","c","s","a"];function Wt(t,e){for(var r=0,n=[],o=0;o<t.length;o++)if("."==t.charAt(o))n[r]=-1,r++;else if("{"==t.charAt(o)){o++;for(var a="";o<t.length&&"}"!=t.charAt(o);)e&&(a+=t.charAt(o)),o++;e&&(vt[q]=a,n[r]=1e3+q,q++,r++)}else for(var l=0;l<21;l++)if(t.charAt(o)=="UDFBLRESMXYZxyzudfblr".charAt(l)){o++;var f=It[l];if(n[r]=24*Ut[l],o<t.length&&0==It[l])for(var i=0;i<Ct.length;i++)if(t.charAt(o)==Ct[i]){f=i+1,o++;break}n[r]+=4*f,o<t.length&&("1"==t.charAt(o)?o++:"'"==t.charAt(o)||"3"==t.charAt(o)?(n[r]+=2,o++):"2"==t.charAt(o)&&(++o<t.length&&"'"==t.charAt(o)?(n[r]+=3,o++):n[r]+=1)),r++,o--;break}var u=[];for(o=0;o<r;o++)u[o]=n[o];return u}function Xt(t,e,r){if(e>=t.length)return"";for(var n="",o=e;o<r;o++){var a=zt(t,o);""!=a&&(n+=a+(Z?" ":""))}return n}var Yt=[[["U","D","F","B","L","R"],["Um","Dm","Fm","Bm","Lm","Rm"],["Ut","Dt","Ft","Bt","Lt","Rt"],["Uc","Dc","Fc","Bc","Lc","Rc"],["Us","Ds","Fs","Bs","Ls","Rs"],["Ua","Da","Fa","Ba","La","Ra"]],[["U","D","F","B","L","R"],["~E","E","S","~S","M","~M"],["u","d","f","b","l","r"],["Z","~Z","Y","~Y","~X","X"],["Us","Ds","Fs","Bs","Ls","Rs"],["Ua","Da","Fa","Ba","La","Ra"]],[["U","D","F","B","L","R"],["~E","E","S","~S","M","~M"],["u","d","f","b","l","r"],["Y","~Y","Z","~Z","~X","X"],["Us","Ds","Fs","Bs","Ls","Rs"],["Ua","Da","Fa","Ba","La","Ra"]],[["U","D","F","B","L","R"],["u","d","f","b","l","r"],["Uu","Dd","Ff","Bb","Ll","Rr"],["QU","QD","QF","QB","QL","QR"],["UD'","DU'","FB'","BF'","LR'","RL'"],["UD","DU","FB","BF","LR","RL"]],[["U","D","F","B","L","R"],["~E","E","S","~S","M","~M"],["u","d","f","b","l","r"],["y","~y","z","~z","~x","x"],["Us","Ds","Fs","Bs","Ls","Rs"],["Ua","Da","Fa","Ba","La","Ra"]]],qt=["","2","'","2'"];function zt(t,e){if(e>=t.length)return"";if(t[e]>=1e3)return"";if(-1==t[e])return".";var r=Yt[N-1][Math.floor(t[e]/4)%6][Math.floor(t[e]/24)];return"~"==r.charAt(0)?r.substring(1)+qt[(t[e]+2)%4]:r+qt[t[e]%4]}var Ot=["","q","h","s"];function Qt(t){for(var e=0,r=0;r<t.length;r++)t[r]<1e3&&e++;return e}function Nt(t,e){for(var r=0,n=0;;){for(;r<t.length&&t[r]>=1e3;)r++;if(n==e)break;r<t.length&&(n++,r++)}return r}function Zt(t,e){for(var r=0,n=0;n<t.length&&(n<e||e<0);n++)r+=Ht(t[n]);return r}function Ht(t){if(t<0||t>=1e3)return 0;var e=t%4,r=Math.floor(t/4)%6,n=1;switch(Y){case 1:1!=e&&3!=e||(n*=2);case 2:1!=r&&4!=r&&5!=r||(n*=2);case 3:3==r&&(n=0),3!=Y||4!=r&&5!=r||(n*=2)}return n}function Gt(t){q=t.length>0&&t[0]>=1e3?t[0]-1e3:-1}function Kt(t,e,r,n,o){for(var a=o?r+n:r;;){if(o){if(a<=r)break;a--}if(e[a]>=1e3)q=o?-1:e[a]-1e3;else if(e[a]>=0){var l=e[a]%4+1,f=Math.floor(e[a]/4)%6;4==l&&(l=2),o&&(l=4-l),fe(t,Math.floor(e[a]/24),l,f)}if(!o&&++a>=r+n)break}}var jt=0,Jt=0;function Vt(t){if($t(),(A||0!=st.length&&0!=st[U].length)&&(!A||0!=ht.length&&0!=ht[0].length)){switch(C=1,W=!1,X=!0,t){case 0:break;case 1:C=-1;break;case 2:W=!0;break;case 3:C=-1,W=!0;break;case 4:X=!1}Hr(jt++,C)}}function $t(){1==y&&(m=!0)}function _t(){P=0,st.length>0&&Gt(st[U]),ct=!0,b=!1;for(var t=0;t<6;t++)for(var e=0;e<4;e++)K[t][e]=J[t][e],j[t][e]=V[t][e];yt>0&&(st=Pt(pn(2,Tt),!1)),2==yt&&Kt(K,st[0],0,st[0].length,!0);for(t=0;t<3;t++)ot[t]=ft[t],at[t]=it[t],lt[t]=ut[t]}var te=[[[0,2],[0,2]],[[0,2],[0,2]],[[0,2],[0,2]],[[0,2],[0,2]],[[0,2],[0,2]],[[0,2],[0,2]]],ee=[],re=[],ne=[[[0,0],[0,0]],[[0,2],[0,2]],[[0,2],[0,1]],[[0,1],[0,2]],[[0,2],[1,2]],[[1,2],[0,2]]],oe=[[1,0,3,3,2,3],[0,1,5,5,4,5],[2,3,1,0,3,2],[4,5,0,1,5,4],[3,2,2,4,1,0],[5,4,4,2,0,1]],ae=[[0,1,5,5,4,5],[1,0,3,3,2,3],[4,5,0,1,5,4],[2,3,1,0,3,2],[5,4,4,2,0,1],[3,2,2,4,1,0]];function le(t){for(var e=0;e<6;e++)ee[e]=ne[oe[t][e]],re[e]=ne[ae[t][e]];ct=!1}function fe(t,e,r,n){5==n?ve(t,1^e,4-r):2!=n&&3!=n&&4!=n||ve(t,1^e,r),ve(t,e,4-r)}var ie=[0,1,3,2],ue=[1,2,-1,-2],ce=[0,1,3,2],se=[[3,3,3,0],[2,1,1,1],[3,3,0,0],[2,1,1,2],[3,2,0,0],[2,2,0,1]],he=[];function ve(t,e,r){de(t,e,r),1==Lt&&r>0&&r<4&&(de(j,e,r),function(t,e){for(var r=0;r<4;r++)j[t][r]=(j[t][r]+4-e)%4;4==t&&(ye(2,1,3),1==e?ye(0,1,1):2==e?ye(0,1,2):3==e&&ye(0,2,0));5==t&&(ye(0,1,3),1==e?ye(1,2,0):2==e?ye(2,1,2):3==e&&ye(2,1,1));2==t&&Te(0,4-e);3==t&&Te(1,e)}(e,r))}function de(t,e,r){for(var n=0;n<4;n++)he[(n+r)%4]=t[e][ie[n]];for(n=0;n<4;n++)t[e][ie[n]]=he[n];var o=2*r;for(n=0;n<4;n++)for(var a=rt[e][n],l=se[e][n],f=ue[l],i=ce[l],u=0;u<2;u++,o++)he[o%8]=t[a][u*f+i];for(n=0,o=0;n<4;n++)for(a=rt[e][n],l=se[e][n],f=ue[l],i=ce[l],u=0;u<2;u++,o++)t[a][u*f+i]=he[o]}var ge,me,be,Me,pe,ke,Le,we=[[[0,1,0],[0,2,1],[0,2,4],[0,1,5]],[[2,1,0],[1,2,1],[1,2,4],[2,1,5]]];function ye(t,e,r){for(var n=t,o=0;o<2;n+=e,o++)j[r][n]=(j[r][n]+2)%4}function Te(t,e){for(var r=0;r<4;r++)for(var n=we[t][r],o=n[0],a=0;a<2;o+=n[1],a++)j[n[2]][o]=(j[n[2]][o]+e)%4}var Ae,Re,Se=[],Fe=[],De=[],xe=[],Ee=[[[0,0],[2,0],[2,1],[0,1]],[[2,0],[2,2],[1,2],[1,0]],[[2,2],[0,2],[0,1],[2,1]],[[0,2],[0,0],[1,0],[1,2]]],Be=[[1,0],[0,1],[-1,0],[0,-1]],Ie=[[1,1,1,1],[1,1,1,1],[1,-1,1,-1],[1,-1,1,-1],[-1,1,-1,1],[1,-1,1,-1]],Ue=[],Pe=[],Ce=[[[1,0,0],[0,0,0],[0,0,1]],[[1,0,0],[0,1,0],[0,0,0]],[[0,0,0],[0,1,0],[0,0,1]]],We=[[[0,0,1],[0,0,0],[-1,0,0]],[[0,1,0],[-1,0,0],[0,0,0]],[[0,0,0],[0,0,1],[0,-1,0]]],Xe=[[[0,0,0],[0,1,0],[0,0,0]],[[0,0,0],[0,0,0],[0,0,1]],[[1,0,0],[0,0,0],[0,0,0]]],Ye=[1,-1,1,-1,1,-1],qe=[],ze=[],Oe=[],Qe=[],Ne=[],Ze=[],He=[],Ge=[],Ke=[],je=[],Je=[],Ve=[],$e=[[1,0],[1,0],[1,1],[1,1],[1,1],[1,2]],_e=[],tr=[[0,2],[2,1],[2,2],[2,2],[2,2],[2,2]],er=[[0,1],[1,0],[0,1]];function rr(){if(nn.save(),nn.fillStyle=e,1!=z||0!=mt&&!A?(Br(nn,0,0,ge,me),nn.fillRect(0,0,ge,me)):(Br(nn,0,0,ge,me-on),nn.fillRect(0,0,ge,me-on)),Le=0,ct)vr(ot,at,lt,te,3);else{for(var t=Math.cos(h+s),n=Math.sin(h+s)*Ye[u],i=0;i<3;i++){qe[i]=0,ze[i]=0;for(var v=0;v<3;v++){var d=Math.floor(u/2);qe[i]+=ot[v]*(Xe[d][i][v]+Ce[d][i][v]*t+We[d][i][v]*n),ze[i]+=at[v]*(Xe[d][i][v]+Ce[d][i][v]*t+We[d][i][v]*n)}}Ar(Oe,qe,ze);var g=Math.cos(h-s),m=Math.sin(h-s)*Ye[u];for(i=0;i<3;i++){Qe[i]=0,Ne[i]=0;for(v=0;v<3;v++){d=Math.floor(u/2);Qe[i]+=ot[v]*(Xe[d][i][v]+Ce[d][i][v]*g+We[d][i][v]*m),Ne[i]+=at[v]*(Xe[d][i][v]+Ce[d][i][v]*g+We[d][i][v]*m)}}Ar(Ze,Qe,Ne),je[0]=ot,Je[0]=at,Ve[0]=lt,je[1]=qe,Je[1]=ze,Ve[1]=Oe,je[2]=Qe,Je[2]=Ne,Ve[2]=Ze,_e[0]=ee,_e[1]=re,Tr(Lr(pr(He,ot),5+R),Lr(pr(Ke,$[u]),1/3)),Tr(Lr(pr(Ge,ot),5+R),Lr(pr(Ke,$[1^u]),1/3));var b,M=wr(He,$[u]),p=wr(Ge,$[1^u]);vr(je[$e[c][er[b=M<0&&p>0?0:M>0&&p<0?1:2][0]]],Je[$e[c][er[b][0]]],Ve[$e[c][er[b][0]]],_e[er[b][0]],tr[c][er[b][0]]),vr(je[$e[c][er[b][1]]],Je[$e[c][er[b][1]]],Ve[$e[c][er[b][1]]],_e[er[b][1]],tr[c][er[b][1]])}if(Q||y||(gt=-1),!(yt>0&&2==z)){if(!A&&st.length>0){if(st[U].length>0){if(mt>0){nn.lineWidth=ln,nn.strokeStyle=f;var k=(ge-2)*function(t,e){for(var r=0,n=0;n<e;n++)t[n]<1e3&&r++;return r}(st[U],P)/Qt(st[U]);nn.fillStyle=l,nn.fillRect(an,me-mt-an,ge-on,mt),nn.fillStyle=a,nn.fillRect(an,me-mt-an,k,mt),nn.beginPath(),nn.rect(an,me-mt-an,ge-on,mt),nn.stroke()}var L=Zt(st[U],P)+"/"+Zt(st[U],-1)+Ot[Y];nn.font="bold "+bt+"px helvetica";var w=nn.measureText(L).width,T=ge-w-2,S=me-mt-Math.floor(4*on);N>0?(br(nn,L,Mt?T-on:T,S-bt),function(t,e){var n=0==P?Nt(st[U],P):P,o=Xt(st[U],0,n),a=zt(st[U],n),l=Xt(st[U],n+1,st[U].length);Z&&(""==a&&(o=o.substr(0,o.length-1)),""!=l&&(l=" "+l.substr(0,l.length-1)));var f=t.measureText(o).width,i=t.measureText(a).width,u=t.measureText(l).width,c=1;c+f+i+u>ge&&(c=Math.min(1,ge/2-f-i/2),c=Math.max(c,ge-f-i-u-2));i>0&&(t.fillStyle=r,t.lineWidth=2,t.strokeStyle="black",t.beginPath(),cn<=14?t.fillRect(c+f-1,me-mt-bt-Math.floor(4*on),i+2,bt+Math.floor(3*on)):t.fillRect(c+f-1,me-mt-bt-Math.floor(2*on),i+2,bt+Math.floor(on)));f>0&&br(t,o,c,e);i>0&&br(t,a,c+f,e);u>0&&br(t,l,c+f+i,e)}(nn,S)):br(nn,L,Mt?T-on:T,S)}if(st.length>1){L=U+1+"/"+st.length,w=nn.measureText(L).width,T=ge-w-O-Math.floor(5*on);br(nn,L,T,nr()),Ur(nn,7,ge-O/2,O/2)}}q>=0&&(nn.font="bold "+bt+"px helvetica",br(nn,vt[q],Mt?on:0,nr()))}nn.restore(),dt&&0!=z&&function(t){var e=O%2==0?1:0;if(e+=Math.floor(on+.5)-1,2==z)return t.fillStyle=0==gt||yt>0&&6==gt?Zr(o):o,t.fillRect(an,me-O,O,O),t.lineWidth=ln,t.strokeStyle=f,t.beginPath(),t.rect(an,me-O-an,O,O),t.stroke(),void Ur(t,0,O/2,me-(O+1)/2-e);if(1==z){for(var r=0,n=0;n<7;n++){var a=Math.floor((ge-r)/(7-n));t.fillStyle=gt==n?Zr(o):o,t.fillRect(r,me,a,O),t.lineWidth=ln,t.strokeStyle=f,t.beginPath(),0==n?t.rect(r+an,me-an,a-on,O):t.rect(r-an,me-an,a,O),t.stroke(),t.strokeStyle="black",Ur(t,n,r+a/2,me+O/2-e),r+=a}dt=!1}}(nn)}function nr(){return cn<10?Math.floor(10*on):cn<12?Math.floor(12*on):cn<14?Math.floor(14*on):bt}var or=[],ar=[],lr=[],fr=[],ir=[[],[],[],[],[],[]],ur=[[],[],[],[],[],[]],cr=[[.1,.1],[.9,.1],[.9,.9],[.1,.9]],sr=[[0,0],[0,1],[1,1],[1,0]],hr=[];function vr(t,e,r,n,o){for(var a=0;a<8;a++){var l=(s=ge<me?ge:me-mt)/3.7*wr(_[a],e)*S,f=s/3.7*wr(_[a],r)*S;l/=1-(h=s/(5+R)*wr(_[a],t)*S)/s,f/=1-h/s,lr[a]=ge/2+l,fr[a]=0==F?(me-mt)/2*S-f:1==F?(me-mt)/2-f:2==F?me-mt-(me-mt)/2*S-f:(me-mt)*(F*(1-S)+S/2)-f}for(a=0;a<6;a++)for(var c=0;c<4;c++)ir[a][c]=lr[tt[a][c]],ur[a][c]=fr[tt[a][c]];if(D)for(a=0;a<6;a++)if(Tr(Lr(pr(He,t),5+R),$[a]),wr(He,$[a])<0){Lr(pr(hr,$[a]),x);var s,h;l=(s=ge<me?ge:me-mt)/E*wr(hr,e),f=s/B*wr(hr,r);l/=1-(h=s/(5+R)*wr(hr,t))/s,f/=1-h/s;var v=n[a][0][1]-n[a][0][0],d=n[a][1][1]-n[a][1][0];if(v>0&&d>0)for(var g=0,m=n[a][1][0];g<d;g++,m++)for(var p=0,k=n[a][0][0];p<v;p++,k++){for(c=0;c<4;c++)dr(a,c,or,ar,k+cr[c][0],m+cr[c][1],b),or[c]=Math.floor(or[c]+(b?-l:l)),ar[c]=Math.floor(ar[c]-f);1==Lt?(Xr(nn,or,ar,"#fdfdfd"),Wr(nn,or,ar,I?Zr("#fdfdfd"):"#fdfdfd"),Or(nn,or,ar,a,j[a][2*m+k],G[K[a][2*m+k]])):(Xr(nn,or,ar,G[K[a][2*m+k]]),Wr(nn,or,ar,I?Zr(G[K[a][2*m+k]]):G[K[a][2*m+k]]))}}for(a=0;a<6;a++){v=n[a][0][1]-n[a][0][0],d=n[a][1][1]-n[a][1][0];if(v<=0||d<=0){for(c=0;c<4;c++){var L=et[a][c];or[c]=Math.floor(ir[a][c]+1*(ir[1^a][L]-ir[a][c])/2),ar[c]=Math.floor(ur[a][c]+1*(ur[1^a][L]-ur[a][c])/2),b&&(or[c]=ge-or[c])}Xr(nn,or,ar,i)}else{for(c=0;c<4;c++)dr(a,c,or,ar,n[a][0][sr[c][0]],n[a][1][sr[c][1]],b);Xr(nn,or,ar,i)}}for(a=0;a<6;a++)if(Tr(Lr(pr(He,t),5+R),$[a]),wr(He,$[a])>0){v=n[a][0][1]-n[a][0][0],d=n[a][1][1]-n[a][1][0];if(v>0&&d>0)for(g=0,m=n[a][1][0];g<d;g++,m++)for(p=0,k=n[a][0][0];p<v;p++,k++){for(c=0;c<4;c++)dr(a,c,or,ar,k+cr[c][0],m+cr[c][1],b);1==Lt?(Wr(nn,or,ar,"#fdfdfd"),Xr(nn,or,ar,"#fdfdfd"),Or(nn,or,ar,a,j[a][2*m+k],G[K[a][2*m+k]])):(Wr(nn,or,ar,G[K[a][2*m+k]]),Xr(nn,or,ar,G[K[a][2*m+k]]))}if(!M||y)continue;var w=(ir[a][1]-ir[a][0]+ir[a][2]-ir[a][3])/6,T=(ir[a][3]-ir[a][0]+ir[a][2]-ir[a][1])/6,A=(ur[a][1]-ur[a][0]+ur[a][2]-ur[a][3])/6,U=(ur[a][3]-ur[a][0]+ur[a][2]-ur[a][1])/6;if(3==o)for(c=0;c<4;c++){for(L=0;L<4;L++)dr(a,L,Se[Le],Fe[Le],Ee[c][L][0],Ee[c][L][1],!1);if(De[Le]=(w*Be[c][0]+A*Be[c][1])*Ie[a][c],xe[Le]=(T*Be[c][0]+U*Be[c][1])*Ie[a][c],Ue[Le]=rt[a][c%4],Pe[Le]=Math.floor(c/4),12==++Le)break}else if(0==o&&a!=u&&v>0&&d>0){for(c=2==v?0==n[a][1][0]?0:2:0==n[a][0][0]?3:1,L=0;L<4;L++)dr(a,L,Se[Le],Fe[Le],Ee[c][L][0],Ee[c][L][1],!1);De[Le]=(w*Be[c][0]+A*Be[c][1])*Ie[a][c],xe[Le]=(T*Be[c][0]+U*Be[c][1])*Ie[a][c],Ue[Le]=u,Pe[Le]=0,Le++}}}function dr(t,e,r,n,o,a,l){o/=2,a/=2;var f=ir[t][0]+(ir[t][1]-ir[t][0])*o,i=ur[t][0]+(ur[t][1]-ur[t][0])*o,u=ir[t][3]+(ir[t][2]-ir[t][3])*o,c=ur[t][3]+(ur[t][2]-ur[t][3])*o;r[e]=Math.floor(.5+f+(u-f)*a),n[e]=Math.floor(.5+i+(c-i)*a),l&&(r[e]=ge-r[e])}var gr=[1,1,-1,-1,-1,1,1,-1,-1,0,1,0,0,1,0,-1],mr=[];function br(t,e,r,o){if(Mt){t.fillStyle="black";for(var a=0;a<mr.length;a+=2)t.fillText(e,r+mr[a],o+mr[a+1]);t.fillStyle="white"}else t.fillStyle=n;t.fillText(e,r,o)}var Mr=[-1,3,1,-1,0,2,4,-1];function pr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function kr(t){var e=Math.sqrt(wr(t,t));return t[0]/=e,t[1]/=e,t[2]/=e,t}function Lr(t,e){return t[0]*=e,t[1]*=e,t[2]*=e,t}function wr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function yr(t,e){return t[0]+=e[0],t[1]+=e[1],t[2]+=e[2],t}function Tr(t,e){return t[0]-=e[0],t[1]-=e[1],t[2]-=e[2],t}function Ar(t,e,r){return t[0]=e[1]*r[2]-e[2]*r[1],t[1]=e[2]*r[0]-e[0]*r[2],t[2]=e[0]*r[1]-e[1]*r[0],t}function Rr(t,e){var r=Math.sin(e),n=Math.cos(e),o=t[1]*n-t[2]*r,a=t[1]*r+t[2]*n;return t[1]=o,t[2]=a,t}function Sr(t,e){var r=Math.sin(e),n=Math.cos(e),o=t[0]*n-t[2]*r,a=t[0]*r+t[2]*n;return t[0]=o,t[2]=a,t}function Fr(t,e){var r=Math.sin(e),n=Math.cos(e),o=t[0]*n-t[1]*r,a=t[0]*r+t[1]*n;return t[0]=o,t[1]=a,t}function Dr(t,e,r){return"#"+xr(t.toString(16))+xr(e.toString(16))+xr(r.toString(16))}function xr(t){return("00"+t).substring(t.length)}function Er(t){for(var e=0,r=0;r<6;r++)for(var n=0;n<16;n++)if(t[r].toLowerCase()=="0123456789abcdef".charAt(n)){e++;break}return 6==e}function Br(t,e,r,n,o){t.beginPath(),t.moveTo(e,r),t.lineTo(e+n,r),t.lineTo(e+n,r+o),t.lineTo(e,r+o),t.lineTo(e,r),t.closePath(),t.clip()}var Ir=[];function Ur(t,e,r,n){switch(r=Math.floor(r),n=Math.floor(n),e){case 0:Cr(t,r-Ir[4],n-Ir[3],Ir[3],Ir[6]+1),Pr(t,r+Ir[4],n,-1);break;case 1:Cr(t,r+Ir[1],n-Ir[3],Ir[3],Ir[6]+1),Pr(t,r-Ir[1],n,-1);break;case 2:Pr(t,r+Ir[1],n,-1);break;case 3:y?Cr(t,r-Ir[4],n-Ir[3],Ir[7],Ir[7]):(Cr(t,r-Ir[4],n-Ir[2],Ir[7],Ir[5]),Cr(t,r-Ir[2],n-Ir[4],Ir[3],Ir[9]));break;case 4:Pr(t,r-Ir[2],n,1);break;case 5:Cr(t,r-Ir[4],n-Ir[3],Ir[3],Ir[6]+1),Pr(t,r,n,1);break;case 6:Cr(t,r+Ir[1],n-Ir[3],Ir[3],Ir[6]+1),Pr(t,r-Ir[4],n,1);break;case 7:t.fillStyle=7==gt?Zr(o):o,t.fillRect(ge-O-Ir[1]-an,Ir[1]+an,O,O),t.lineWidth=ln,t.strokeStyle=f,t.beginPath(),on%2==0?t.rect(ge-O-Ir[1],Ir[1],O,O):t.rect(ge-O-Ir[1]-an,Ir[1]+an,O,O),t.stroke(),Pr(t,r-Ir[3],n+Ir[1],1)}}function Pr(t,e,r,n){var o=3*on,a=[],l=[];a[0]=e,a[1]=e+n,a[2]=e+4*on*n,a[3]=e+n,a[4]=e,l[0]=r-o,l[1]=r-o,l[2]=r,l[3]=r+o,l[4]=r+o,function(t,e,r){t.beginPath(),t.moveTo(e[0]+an,r[0]+an);for(var n=1;n<5;n++)t.lineTo(e[n]+an,r[n]+an);t.closePath(),t.fillStyle="white",t.strokeStyle="black",t.fill(),t.lineWidth=ln,t.stroke()}(t,a,l)}function Cr(t,e,r,n,o){t.lineWidth=ln,t.beginPath(),t.rect(e+an,r+an,n-1,o-1),t.fillStyle="white",t.fill(),t.strokeStyle="black",t.stroke()}function Wr(t,e,r,n){t.beginPath(),t.moveTo(e[0],r[0]),t.lineTo(e[1],r[1]),t.lineTo(e[2],r[2]),t.lineTo(e[3],r[3]),t.closePath(),t.strokeStyle=n,t.lineWidth=.7*on,t.stroke()}function Xr(t,e,r,n){t.beginPath(),t.moveTo(e[0],r[0]),t.lineTo(e[1],r[1]),t.lineTo(e[2],r[2]),t.lineTo(e[3],r[3]),t.closePath(),t.fillStyle=n,t.fill()}var Yr,qr,zr=[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]];function Or(t,e,r,n,o,a){var l=[],f=[];if(2!=At||"#ffffff"!=a){for(var i=0;i<4;i++)l[i]=Math.floor(e[i]+.05*(e[zr[2][i]]-e[i])),f[i]=Math.floor(r[i]+.05*(r[zr[2][i]]-r[i]));0==n&&(o=(o+1)%4),4==n&&(o=(o+3)%4);var u=zr[o][0],c=zr[o][1],s=zr[o][2],h=zr[o][3],v=.26*(l[s]-l[c]),d=.26*(f[s]-f[c]),g=(l[u]-l[c])/2,m=f[c]+(f[u]-f[c])/2,b=f[s]+(f[h]-f[s])/2,M=(l[h]-l[s])/2,p=1^o;t.fillStyle=a,t.beginPath(),t.moveTo(l[u]+(l[h]-l[u])/2,f[u]+(f[h]-f[u])/2),t.lineTo(l[p]+g,m),t.lineTo(l[p]+v+g,m+d),t.lineTo(l[p]+v,f[p]+d),p=(p+1)%4,t.lineTo(l[p]-v,f[p]-d),t.lineTo(l[p]-v+M,b-d),t.lineTo(l[p]+M,b),t.closePath(),t.fill(),t.lineWidth=.6*on,t.strokeStyle="black",t.stroke()}}function Qr(t){return"white"==t?"#FFFFFF":"black"==t?"#000000":"#808080"}function Nr(t){return"#"!=t.substring(0,1)&&(t=Qr(t)),(299*parseInt(t.substring(1,3),16)+587*parseInt(t.substring(3,5),16)+114*parseInt(t.substring(5,7),16))/1e3}function Zr(t){"#"!=t.substring(0,1)&&(t=Qr(t));var e=parseInt(t.substring(1,3),16),r=parseInt(t.substring(3,5),16),n=parseInt(t.substring(5,7),16);return Dr(e=Math.floor(.7*e),r=Math.floor(.7*r),n=Math.floor(.7*n))}function Hr(t,e){if(t>Jt)setTimeout(Hr,0,t,e);else{if(!X){for(var r=st[U];P<r.length;){if(r[P]>=1e3)q=r[P]-1e3;else if(-1!=r[P]){var n=r[P]%4+1,o=Math.floor(r[P]/4)%6,a=Math.floor(r[P]/24);fe(K,a,4==n?2:n,o)}P++}return y=!1,dt=!0,rr(),void Jt++}var l,f,i,g,b,M,k=e;!1,requestAnimationFrame((function t(){if(R){if(R=!1,M=!1,p)k>0?P>=r.length&&(P=0,Gt(r)):(q=-1,0==P&&(P=r.length));else if(k>0&&P>=r.length||k<0&&0==P)return m=!1,y=!1,Jt++,dt=!0,void rr();y=!0,dt=!0}if(S&&(S=!1,k<0&&(x=!1,0==P?(x=!0,D=!0):P--),!x)){if(T=!1,-1==r[P]){if(rr(),!W)for(l=Date.now();Date.now()-l<1e3;);}else r[P]>=1e3?q=k>0?r[P]-1e3:-1:T=!0;if(T){n=r[P]%4+1,o=Math.floor(r[P]/4)%6;var e=n<3;if(4==n&&(n=2),k<0&&(e=!e,n=4-n),a=Math.floor(r[P]/24),L=!1,ct=!0,w=!0,h=0,nt[a]>0&&(e=!e),X){b=Math.PI/2,g=e?1:-1;var E=67*v;2==n&&(b=Math.PI,E=67*d),L=!0,u=a,c=o,le(a),l=Date.now(),f=l,i=g*b/E,s=0}}else F=!0}if(!x&&(T&&(X?s*g<b?(rr(),m&&(F=!0),f=Date.now(),s=i*(f-l)):(F=!0,pt&&!W&&(s-=g*b,rr(),P>0&&P<r.length-1&&(F=!1,P+=k,l=f,f=Date.now(),s=i*(f-l)))):F=!0),F)){if(F=!1,S=!0,T&&(s=0,L=!1,ct=!0,fe(K,a,n,o),w=!1,X&&rr(),W&&(M=!0)),k>0){if(++P<r.length&&r[P]>=1e3&&(q=r[P]-1e3,P++),P==r.length)if(A){P=0,Gt(r);for(var B=0;B<6;B++)for(var I=0;I<4;I++)K[B][I]=J[B][I],j[B][I]=V[B][I]}else D=!0}else q=-1;(m||M)&&(D=!0)}if(D)return D=!1,R=!0,jt<=Jt+1&&(y=!1),dt=!0,0==gt&&_t(),rr(),A&&(_t(),A=!1),m=!1,Jt++,void(1==P&&r[0]>=1e3&&P--);requestAnimationFrame(t)}));var T=!1,R=!0,S=!0,F=!1,D=!1,x=!1;r=A?ht[0]:st[U]}}document.addEventListener("touchstart",_r),document.addEventListener("touchmove",vn),document.addEventListener("touchend",$r),document.addEventListener("mousedown",_r),document.addEventListener("mousemove",vn),document.addEventListener("mouseup",$r),document.addEventListener("contextmenu",mn);var Gr=!1,Kr=!0,jr=document.getElementsByTagName("div"),Jr=jr.length>0&&"wrap"==jr[0].className;function Vr(t){Jr?jr[0].style.overflow=t:document.body.style.overflow=t}function $r(t){if(Gr&&void 0!==t.touches&&(t.preventDefault(),Vr("auto")),Gr?setTimeout((function(){Kr=!0}),100):Kr=!0,Gr=!1,T=!1,Q)Q=!1,dt=!0,rr();else if(L&&!w){L=!1,h+=s,s=0;for(var e=h;e<0;)e+=32*Math.PI;var r=Math.floor(8*e/Math.PI)%16;(kt||r%4==0||r%4==3)&&(r=Math.floor((r+2)/4),nt[u]>0&&(r=(4-r)%4),h=0,ct=!0,fe(K,u,r,c)),rr()}}function _r(t){var e=rn.getBoundingClientRect(),r=Math.floor(e.left),n=Math.floor(e.top);if(void 0===t.touches)var o=t.clientX,a=t.clientY;else o=t.touches[0].clientX,a=t.touches[0].clientY;o<r||o>r+ge/on||a<n||a>n+(me+O)/on||(t.preventDefault(),Gr=!0,Kr=!1,void 0!==t.touches&&(t.preventDefault(),Vr("hidden")),Yr=r,qr=n,pe=be=dn(t),ke=Me=gn(t),g=!1,gt=function(t,e){if(0==z)return-1;if(st.length>1&&t>=ge-O&&t<ge&&e>=0&&e<O)return 7;if(2==z)return t>=0&&t<O&&e>=me-O&&e<me?0:-1;if(e<me)return-1;for(var r=0,n=0;n<7;n++){var o=(ge-r)/(7-n);if(t>=r&&t<r+o&&e>=me&&e<me+O)return n;r+=o}return-1}(be,Me),gt>=0?(Q=!0,3==gt?y?$t():b=!b:0==gt?yt>0&&2==z?1==wt?(wt=!1,$t(),_t()):(wt=!0,Vt(Mr[gt=6])):($t(),_t()):7==gt?($t(),setTimeout(_t,10),U=U<st.length-1?U+1:0):Vt(Mr[gt]),dt=!0,rr()):mt>0&&st.length>0&&st[U].length>0&&Me>me-mt&&Me<=me?k&&($t(),tn(jt++)):(b&&(pe=be=ge-be),void 0===t.touches?!M||y||0!=t.button||t.shiftKey||(g=!0):M&&!y&&(g=!0)))}function tn(t){if(t>Jt)setTimeout(tn,0,t);else{var e=Qt(st[U]),r=Math.floor(((be-1)*e*2/(ge-2)+1)/2);(r=Math.max(0,Math.min(e,r)))>0&&(r=Nt(st[U],r)),r>P&&Kt(K,st[U],P,r-P,!1),r<P&&Kt(K,st[U],r,P-r,!0),P=r,T=!0,rr(),y=!1,Jt++}}var en,rn,nn,on,an,ln,fn,un,cn,sn,hn=[];function vn(t){if(Gr&&!Q){if(T){$t();var e=Qt(st[U]),r=Math.floor(((dn(t)-1)*e*2/(ge-2)+1)/2);return(r=Math.max(0,Math.min(e,r)))>0&&(r=Nt(st[U],r)),r>P&&Kt(K,st[U],P,r-P,!1),r<P&&Kt(K,st[U],r,P-r,!0),P=r,void rr()}var n=b?ge-dn(t):dn(t),o=gn(t),a=n-be,l=o-Me;if(M&&g&&!L&&!y){pe=n,ke=o;for(var f=0;f<Le;f++){var i=Se[f][0],h=Se[f][1]-i,v=Se[f][3]-i,d=Fe[f][0],m=Fe[f][1]-d,p=Fe[f][3]-d,k=(p*(be-i)-v*(Me-d))/(h*p-v*m),w=(-m*(be-i)+h*(Me-d))/(h*p-v*m);if(k>0&&k<1&&w>0&&w<1){if(a*a+l*l<144)return;if(Ae=De[f],Re=xe[f],Math.abs(Ae*a+Re*l)/Math.sqrt((Ae*Ae+Re*Re)*(a*a+l*l))>.75){L=!0,u=Ue[f],c=Pe[f];break}}}g=!1,be=pe,Me=ke}a=(n-be)/on,l=(o-Me)/on,!L||y?(kr(yr(ot,Lr(pr(hn,at),-.016*a))),kr(Ar(at,lt,ot)),kr(yr(ot,Lr(pr(hn,lt),.016*l))),kr(Ar(lt,ot,at)),be=n,Me=o):(ct&&le(u),s=.03*(Ae*a+Re*l)/Math.sqrt(Ae*Ae+Re*Re)),rr()}}function dn(t){return void 0===t.touches?(t.clientX-Yr)*on:(t.touches[0].clientX-Yr)*on}function gn(t){return void 0===t.touches?(t.clientY-qr)*on:(t.touches[0].clientY-qr)*on}function mn(t){Kr||t.preventDefault()}function bn(){clearTimeout(en),en=setTimeout((function(){Mn(),dt=!0,rr()}),20)}function Mn(){me=sn.clientHeight-1,ge=sn.clientWidth-1,rn.style.width=ge+"px",rn.style.height=me+"px",on=devicePixelRatio,an=on/2,me=Math.floor(me*on),ge=Math.floor(ge*on),rn.width=ge,rn.height=me,ln=on,O=Math.floor(fn*on),mt=Math.floor(un*on),bt=Math.floor(cn*on);for(var t=1;t<10;t++)Ir[t]=t*on;for(t=0;t<gr.length;t++)mr[t]=gr[t]*on;1==z&&(me-=O)}function pn(t,e){var r,n,o=["R","L","F","B","U","D"],a=["","m","n"],l=["","2","'"],f=-1,i=-1,u=-1,c="";0==e&&(e=10*t);for(var s=0;s<e;s++){for(;f==i||Math.floor(f/2)==Math.floor(i/2)&&f==u;)f=Math.floor(6*Math.random());u=i,i=f,r=Math.floor(3*Math.random()),t<=3?c+=""+o[f]+l[r]+" ":(n=Math.floor(Math.random()*(t>4?3:2)),5==t&&1==n&&(n=0),c+=""+o[f]+a[n]+l[r]+" ")}return c}window.addEventListener("resize",bn);var kn=[];function Ln(){$t(),document.removeEventListener("mousedown",_r),document.removeEventListener("touchstart",_r),document.removeEventListener("touchmove",vn),document.removeEventListener("touchend",$r),document.removeEventListener("mousedown",_r),document.removeEventListener("mousemove",vn),document.removeEventListener("mouseup",$r),document.removeEventListener("contextmenu",mn),window.removeEventListener("resize",bn)}!function(){rn=document.createElement("canvas"),void 0!==t&&function(){for(var e=t.split("&"),r=0;r<e.length;r++){var n=e[r].split("=");void 0!==n[1]&&(kn[n[0]]=decodeURIComponent(n[1].trim()))}}();var e=Et("id");if(null!=e)(sn=document.getElementById(e)).innerHTML="";else if(null!=document.currentScript)sn=document.currentScript.parentNode;else{var r=document.getElementsByTagName("script"),n=r[r.length-1];sn=n.parentNode}null!=sn.id&&"undefined"!=typeof removeListeners&&(removeListeners[sn.id]=Ln);for(var o=0;o<6;o++)K[o]=[],j[o]=[],J[o]=[],V[o]=[];for(o=0;o<12;o++)Se[o]=[],Fe[o]=[];U=0,h=0,Dt()}()}